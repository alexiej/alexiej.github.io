<!DOCTYPE html>
<html lang="pl-PL">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Analiza gier hazardowych | One Page Knowledge</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.6cd8c973.css" as="style"><link rel="preload" href="/assets/js/app.bd92e1f5.js" as="script"><link rel="preload" href="/assets/js/30.7d313f6b.js" as="script"><link rel="preload" href="/assets/js/46.59caeff0.js" as="script"><link rel="preload" href="/assets/js/45.c7013a6c.js" as="script"><link rel="preload" href="/assets/js/34.5336840b.js" as="script"><link rel="preload" href="/assets/js/35.a518df90.js" as="script"><link rel="preload" href="/assets/js/36.93c73ba4.js" as="script"><link rel="prefetch" href="/assets/js/1.59a37a60.js"><link rel="prefetch" href="/assets/js/2.2c6077e0.js"><link rel="prefetch" href="/assets/js/3.de0cb141.js"><link rel="prefetch" href="/assets/js/4.08be0b1e.js"><link rel="prefetch" href="/assets/js/5.a64c9bd8.js"><link rel="prefetch" href="/assets/js/6.51a66b30.js"><link rel="prefetch" href="/assets/js/7.8b9dabdf.js"><link rel="prefetch" href="/assets/js/8.cb48b719.js"><link rel="prefetch" href="/assets/js/9.c88d4f59.js"><link rel="prefetch" href="/assets/js/10.6d40f3fe.js"><link rel="prefetch" href="/assets/js/11.541fb842.js"><link rel="prefetch" href="/assets/js/12.2171c9af.js"><link rel="prefetch" href="/assets/js/13.0bdc693f.js"><link rel="prefetch" href="/assets/js/14.2f1335e3.js"><link rel="prefetch" href="/assets/js/15.24438cbf.js"><link rel="prefetch" href="/assets/js/16.b88a490d.js"><link rel="prefetch" href="/assets/js/17.7c72ef1d.js"><link rel="prefetch" href="/assets/js/18.be16b489.js"><link rel="prefetch" href="/assets/js/19.9f25440f.js"><link rel="prefetch" href="/assets/js/20.a0e8e369.js"><link rel="prefetch" href="/assets/js/21.d797005c.js"><link rel="prefetch" href="/assets/js/22.cfa3a842.js"><link rel="prefetch" href="/assets/js/23.8224ebc7.js"><link rel="prefetch" href="/assets/js/24.45e807b9.js"><link rel="prefetch" href="/assets/js/25.9eb62023.js"><link rel="prefetch" href="/assets/js/26.03b2a486.js"><link rel="prefetch" href="/assets/js/27.30eb1809.js"><link rel="prefetch" href="/assets/js/28.96000227.js"><link rel="prefetch" href="/assets/js/29.5d84c0a2.js"><link rel="prefetch" href="/assets/js/31.0d62c044.js"><link rel="prefetch" href="/assets/js/32.4ced69d1.js"><link rel="prefetch" href="/assets/js/33.bf7d8176.js"><link rel="prefetch" href="/assets/js/37.23cd8948.js"><link rel="prefetch" href="/assets/js/38.9a5b32e6.js"><link rel="prefetch" href="/assets/js/39.d866636e.js"><link rel="prefetch" href="/assets/js/40.7718ed64.js"><link rel="prefetch" href="/assets/js/41.9e578eb8.js"><link rel="prefetch" href="/assets/js/42.792ce11d.js"><link rel="prefetch" href="/assets/js/43.3152f468.js"><link rel="prefetch" href="/assets/js/44.557c9f8f.js"><link rel="prefetch" href="/assets/js/47.bb90c800.js"><link rel="prefetch" href="/assets/js/48.43d4db50.js"><link rel="prefetch" href="/assets/js/49.2851bd12.js"><link rel="prefetch" href="/assets/js/50.a1744bc8.js"><link rel="prefetch" href="/assets/js/51.306ab5ba.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6cd8c973.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      One Page Knowledge
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><!----></div></header><div class="sidebar-mask"></div><div class="sidebar"><!----><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Analiza gier hazardowych</span><!----></p><ul class="sidebar-group-items"><li><a href="/gambling/#wstep" class="sidebar-link">WstÄ™p</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/gambling/#gra" class="sidebar-link">Gra</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/gambling/#automated-betting" class="sidebar-link">Automated betting</a></li><li class="sidebar-sub-header"><a href="/gambling/#table-system" class="sidebar-link">Table System</a></li><li class="sidebar-sub-header"><a href="/gambling/#wyjscie" class="sidebar-link">WyjÅ›cie:</a></li><li class="sidebar-sub-header"><a href="/gambling/#labouchere" class="sidebar-link">Labouchere</a></li><li class="sidebar-sub-header"><a href="/gambling/#gra-2" class="sidebar-link">Gra</a></li></ul></li><li><a href="/gambling/#artykul" class="sidebar-link">ArtykuÅ‚</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/gambling/#definicja" class="sidebar-link">Definicja</a></li><li class="sidebar-sub-header"><a href="/gambling/#automat" class="sidebar-link">Automat</a></li><li class="sidebar-sub-header"><a href="/gambling/#strategia-dla-zysku" class="sidebar-link">Strategia dla zysku</a></li><li class="sidebar-sub-header"><a href="/gambling/#strategia-tablicowa" class="sidebar-link">Strategia tablicowa</a></li><li class="sidebar-sub-header"><a href="/gambling/#labouchere-2" class="sidebar-link">Labouchere</a></li></ul></li><li><a href="/gambling/#wnioski" class="sidebar-link">Wnioski</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/gambling/#zalaczniki" class="sidebar-link">ZaÅ‚Ä…czniki</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/gambling/#zrodla" class="sidebar-link">Å¹rÃ³dÅ‚a</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/gambling/#video" class="sidebar-link">Video</a></li><li class="sidebar-sub-header"><a href="/gambling/#ksiazki" class="sidebar-link">KsiÄ…Å¼ki</a></li></ul></li></ul></div></li></ul></div><div class="page"><div class="content"><h2 id="wstep"><a href="#wstep" aria-hidden="true" class="header-anchor">#</a> WstÄ™p</h2><p><strong>Ada Lovelace</strong>, znana cÃ³rka pisarza lorda Byrona i uwaÅ¼ana jako pierwsza programistka na Å›wiecie. W swoim okresie miaÅ‚a pieniÄ…dze i wyksztaÅ‚cenie dziÄ™ki ktÃ³remu mogÅ‚a realizowaÄ‡ swoje marzenia. MaÅ‚o jednak kto wie jak skoÅ„czyÅ‚a. W wieku 36 lat zmarÅ‚a na raka, i mimo bogactwa z olbrzymimi dÅ‚ugami spowodowanych hazardem.</p><p>Ada wierzyÅ‚a Å¼e w jakiÅ› sposÃ³b dziÄ™ki matematyce bÄ™dzie w stanie wygrywaÄ‡ na wyÅ›cigach konnych co niestety dla niej nie skoÅ„czyÅ‚o siÄ™ dobrze. Hazard do dziÅ› istnieje i aktualnie jest jeszcze Å‚atwiej dostÄ™pny niÅ¼ kilkadziesiÄ…t lat temu. Teraz nie musimy wybieraÄ‡ siÄ™ do Las Vegas by mÃ³c graÄ‡ w koÅ›ci czy ruletkÄ™. Wystarczy tylko odwiedzenie odpowiedniej strony.</p><p>Aktualnie wiÄ™kszoÅ›Ä‡ (jak nie kaÅ¼dy) ktÃ³ry w pewnym stopniu interesuje siÄ™ matematykÄ… moÅ¼e pomyÅ›leÄ‡ czy nie daÅ‚oby siÄ™ wykorzystaÄ‡ swojej wiedzy i stworzyÄ‡ system ktÃ³ry zapewniÅ‚by nam staÅ‚y dopÅ‚yw gotÃ³wki ğŸ˜ƒ MoÅ¼e istnieje jakiÅ› algorytm dziÄ™ki ktÃ³remu moÅ¼emy zapewniÄ‡ sobie wygranÄ…. W dodatku mamy przecieÅ¼ komputery i jÄ™zyki programowania typu Python. Czy nie lepiej najpierw zrobiÄ‡ sobie obliczenia na sucho i przeprowadziÄ‡ testy na tysiÄ…cach symulacji zanim weÅ¼miemy swoje oszczÄ™dnoÅ›ci i pomnoÅ¼ymy je dziÄ™ki Matematyce.</p><p>W artykule bÄ™de opisywaÅ‚ tylko losowe gry hazardowe. Nie ma tu takich gier jak Poker poniewaÅ¼ on mimo elementu losowoÅ›ci zaleÅ¼y takÅ¼e od umiejÄ™tnoÅ›ci i nawet w przypadku sÅ‚abych rozdaÅ„ pozwala zdolnym graczom wygrywaÄ‡.</p><p>PrzykÅ‚adem niech bÄ™dzie gra w stylu rzutu monetÄ… (kostkÄ…). Komputer losuje wartoÅ›Ä‡ od 0 do 100  i jeÅ›li wytypowaliÅ›my Å¼e bÄ™dzie np: wiÄ™ksza niÅ¼  50 i tak jest to wygrywamy, jeÅ›li nie to przegrywamy. OczywiÅ›cie przy typowaniu mniejszych zakresÃ³w stawka jest odpowiednio niÅ¼sza. I analizujÄ…c tak przedstawiajÄ… siÄ™ niektÃ³re stawki:</p><table><thead><tr><th>ZakÅ‚adamy Å¼e wynik jest mniejszy od</th><th>Szansa wygranej</th><th>Wygrana od zakÅ‚adu (bet)</th></tr></thead><tbody><tr><td>24.75</td><td>24.75%</td><td>4.00x</td></tr><tr><td>33.00</td><td>33.00%</td><td>3.00x</td></tr><tr><td>49.50</td><td>49.50%</td><td>2.00x</td></tr><tr><td>50.00</td><td>50.00%</td><td>1.98x</td></tr><tr><td>33.00</td><td>33.00%</td><td>3.00x</td></tr><tr><td>24.75</td><td>24.75%</td><td>4.00x</td></tr><tr><td>66.00</td><td>66.00%</td><td>1.50x</td></tr><tr><td>75.00</td><td>75.00%</td><td>1.32x</td></tr><tr><td>90.00</td><td>90.00%</td><td>1.10x</td></tr></tbody></table><p>Warto zauwaÅ¼yÄ‡ Å¼e przy stawce 50% jest to tak naprawdÄ™ gra w rzut monetÄ…. Powiedzmy Å¼e gramy z kolegÄ…, stawiam 1 zÅ‚otÃ³wkÄ™ i typuje reszkÄ™. JeÅ›li wypadnie reszkÄ… kolega oddaje mi 0.98zÅ‚ czyli razem mam 1.98zÅ‚. Natomiast jeÅ›li on wygra zabiera mojÄ… zÅ‚otÃ³wkÄ™ czyli dostaje Å‚Ä…cznie 2 zÅ‚ote. Od razu widaÄ‡ Å¼e gra nie jest do koÅ„ca uczciwa, w przypadku przegranej oddajemy wiÄ™cej niÅ¼ kasyno. Te zaleÅ¼noÅ›ci widaÄ‡ takÅ¼e przy innych zakÅ‚adach i jest to tzw. marÅ¼a kasyna. JeÅ›li zagramy wiele razy moÅ¼emy przypuszczaÄ‡ Å¼e udziaÅ‚ orÅ‚Ã³w i reszek bÄ™dzie dÄ…Å¼yÅ‚ do 50% (jeÅ›li jest to idealnie symetrycznie moneta). Tak wiÄ™c grajÄ…c caÅ‚y czas w przypadku rÃ³wnego podziaÅ‚u dostaÅ‚bym za reszkÄ™ 50% wszystkich wpÅ‚aconych pieniÄ™dzy. Czyli tyle samo co wpÅ‚aciÅ‚em. Na koÅ„cu obaj wyszlibyÅ›my na 0. Natomiast w przypadku gdy dostajemy mniej co wyniknie z naszych symulacji w przypadku tak prostego algorytmu nasza kwota bÄ™dzie siÄ™ systematycznie pomniejszaÄ‡.</p><p>PoniÅ¼ej przedstawiam dwie czÄ™Å›ci. Pierwszy z nich to Gra. Jest to napisana przeze mnie kopia systemu ze strony darmowego kasyna do testÃ³w w ktÃ³rej moÅ¼emy symulowaÄ‡ nasze zachowania na podstawie 3 algorytmÃ³w.</p><ul><li>Pierwszy to automat ktÃ³ry jest kopiÄ… automatu ze stron z zakÅ‚admi</li><li>Drugi jest moim wÅ‚asnym systemem tablicowych gdzie moÅ¼esz samemu ustaliÄ‡ co robiÄ‡ po kaÅ¼dej wygranej/przegranej, o ile podnieÅ›Ä‡ stawkÄ™ i z jakim prawdopodobieÅ„stwem zagraÄ‡.</li><li>Trzeci jest systemem Labouchere ktÃ³ry jest popularnym systemem w grach hazardowych takich jak ruletka.</li></ul><p>Druga czÄ™Å›Ä‡ pokazuje jak moÅ¼na takie algorytmy sobie zasymulowaÄ‡ w Pythonie i moÅ¼e przed zobaczyÄ‡ czy nasze cudowny algorytm rzeczywiÅ›cie dziaÅ‚a ğŸ˜ƒ</p><p>Na koniec wstÄ™pu maÅ‚a dygresja:</p><div class="danger custom-block"><p class="custom-block-title">Polskie Prawo</p><p>WedÅ‚ug polskiej ustawy wszelkie gry hazardowe online ktÃ³re nie pochodzÄ… od podmiotu wyznaczonego przez paÅ„stwo (Totalizator Sportowy) sÄ… zabronione. W artykule wykorzystaÅ‚em darmowe strony do grania ktÃ³re sÅ‚uÅ¼Ä… tylko do grania i nie wymagajÄ… wkÅ‚adu pieniÄ™Å¼nego.</p></div><h2 id="gra"><a href="#gra" aria-hidden="true" class="header-anchor">#</a> Gra</h2><h3 id="automated-betting"><a href="#automated-betting" aria-hidden="true" class="header-anchor">#</a> Automated betting</h3><p>Polega on na automatycznym zwiÄ™kszaniu wartoÅ›ci zakÅ‚adu po przegranej albo wygranej.</p><p>WejÅ›cia:</p><ul><li><strong>START CASH</strong>: kwota poczÄ…tkowa</li><li><strong>START BET AMOUNT</strong>: poczÄ…tkowa stawka</li><li><strong>NUMBER OF RUNS</strong>: liczba uruchomieÅ„</li><li><strong>GAME</strong>: Rodzaj gry i prawdopodobieÅ„stwo wygranej</li><li><strong>NUMBER OF ROLLS</strong>: liczba rzutÃ³w</li><li><strong>ON LOSS</strong>: co siÄ™ dzieje po przegranej
<ul><li><strong>Reset to base</strong>: powrÃ³t to poczÄ…tkowej wartoÅ›ci</li><li><strong>Increasy by %</strong>: ZwiÄ™kszenie wartoÅ›ci o podany %</li></ul></li><li><strong>ON WIN</strong>: co siÄ™ dzieje po wygranej
<ul><li><strong>Reset to base</strong>: powrÃ³t to poczÄ…tkowej wartoÅ›ci</li><li><strong>Increasy by %</strong>: ZwiÄ™kszenie wartoÅ›ci o podany %</li></ul></li></ul><h3 id="table-system"><a href="#table-system" aria-hidden="true" class="header-anchor">#</a> Table System</h3><p>W odrÃ³Å¼nieniu od Automated Betting moÅ¼na takÅ¼e ustawiÄ‡ co robimy po przegranej pierwszej, drugiej, itpâ€¦</p><p>WejÅ›cia:</p><ul><li><strong>START CASH</strong>: kwota poczÄ…tkowa</li><li><strong>START BET AMOUNT</strong>: poczÄ…tkowa stawka</li><li><strong>NUMBER OF RUNS</strong>: liczba uruchomieÅ„</li><li><strong>GAME</strong>: Rodzaj gry i prawdopodobieÅ„stwo wygranej</li><li><strong>NUMBER OF ROLLS</strong>: liczba rzutÃ³w</li><li><strong>ON LOSS</strong>: co siÄ™ dzieje po przegranej
<ul><li>1 <span class="red" data-v-03878d0e>|</span>: Numer przegranej</li><li><span class="red" data-v-9e33b382>LOSS:</span> Ile przegraliÅ›my</li><li><strong>Reset to base</strong>: powrÃ³t to poczÄ…tkowej wartoÅ›ci</li><li><strong>Increasy by %</strong>: ZwiÄ™kszenie wartoÅ›ci o podany %</li><li><strong>GAME</strong>: JakÄ… gre ustawiÄ‡ po przegranej</li><li><span class="red" data-v-9e33b382>BET:</span> Ile wynosi stawka</li><li><span class="red" data-v-03878d0e>TO WIN</span>: IIle moÅ¼na wygraÄ‡ i jaki jest caÅ‚kowity zysk po wygraniu</li></ul></li><li><strong>ON WIN</strong>: co siÄ™ dzieje po wygranej
<ul><li>1 <span class="red" data-v-03878d0e>|</span>: Numer wygranej</li><li><span class="red" data-v-03878d0e>WIN:</span> Ile wygraliÅ›my</li><li><strong>Reset to base</strong>: powrÃ³t to poczÄ…tkowej wartoÅ›ci</li><li><strong>Increasy by %</strong>: ZwiÄ™kszenie wartoÅ›ci o podany %</li><li><strong>GAME</strong>: JakÄ… gre ustawiÄ‡ po przegranej</li><li><span class="red" data-v-9e33b382>BET:</span> Ile wynosi stawka</li><li><span class="red" data-v-03878d0e>TO WIN</span>: IIle moÅ¼na wygraÄ‡</li></ul></li></ul><h3 id="wyjscie"><a href="#wyjscie" aria-hidden="true" class="header-anchor">#</a> WyjÅ›cie:</h3><ul><li><strong>Run</strong>: KtÃ³ry to rzut</li><li><strong>Avg Cash</strong>: Åšrednia iloÅ›Ä‡ gotÃ³wki w danym rzucie</li><li><strong>Avg Profit from start:</strong>: Åšredni zysk od poczÄ…tku</li><li><strong>Avg win:</strong> Åšrednia wygrana i procent wygranych</li><li><strong>Avg loss:</strong> Åšrednia przegrana i procent przegranych</li><li><strong>Avg Single profit</strong>: Åšredni zysk w aktualnym rzucie</li><li><strong>Highest Bet</strong>: NajwyÅ¼sza postawiona stawka i procent ile razy siÄ™ trafiÅ‚a</li><li><strong>Highest Losses Cnt</strong>: NajwyÅ¼sza iloÅ›Ä‡, ile razy przegraliÅ›my pod rzÄ…d</li><li><strong>Bancrupt</strong>:  % udziaÅ‚u uruchomieÅ„ ktÃ³re majÄ… mniej pieniÄ™dzy niÅ¼ wymagany zakÅ‚ad</li></ul><h3 id="labouchere"><a href="#labouchere" aria-hidden="true" class="header-anchor">#</a> Labouchere</h3><p>WejÅ›cia:</p><ul><li><strong>START CASH</strong>: kwota poczÄ…tkowa</li><li><strong>NUMBER OF RUNS</strong>: liczba uruchomieÅ„</li><li><strong>SYSTEM NUMBERS</strong>: Liczby do systemu Labouchere</li></ul><p>WyjÅ›cie:</p><ul><li><span class="red" data-v-03878d0e>Win rolls:</span>: IloÅ›Ä‡ wygranych i udziaÅ‚ w procentach</li><li><span class="red" data-v-9e33b382>Loss rolls:</span>: IloÅ›Ä‡ przegranych i udziaÅ‚ w procentach</li><li><strong>Avg profit:</strong>: Åšredni zysk</li><li><strong>Rolls</strong>: Liczba rzutÃ³w po ktÃ³rej zostaÅ‚a zakoÅ„czona gra</li><li><strong>%</strong>: Procent i iloÅ›Ä‡ udziaÅ‚u danej iloÅ›ci rzutÃ³w</li><li><strong>Avg Profit</strong>: Åšredni zysk</li><li><strong>Avg Profit * % </strong>: Åšredni zysk pomnoÅ¼ony przez udziaÅ‚</li><li><strong>Highest Bet</strong>: NajwyÅ¼szy zakÅ‚ad</li><li><strong>Highest list</strong>: Lista w przypadku przegranej dla najwyÅ¼szego zakÅ‚adu</li></ul><h3 id="gra-2"><a href="#gra-2" aria-hidden="true" class="header-anchor">#</a> Gra</h3><div id="game-vue"><!----><div data-v-af3c342e><div class="tabs" data-v-af3c342e><ul data-v-af3c342e></ul></div><div class="tabs-details" data-v-af3c342e><div id="auto" class="game-tab" style="display:none;" data-v-5bfe39f2><div class="game-tab" data-v-5bfe39f2><div class="header" data-v-5bfe39f2><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>Start Cash:</span><input type="text" value="100" data-v-5bfe39f2></div><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>START BET AMOUNT:</span><input type="text" value="1" data-v-5bfe39f2></div><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>Number of runs:</span><input type="text" value="1000" data-v-5bfe39f2></div></div><div class="header" data-v-5bfe39f2><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>GAME:</span><div class="select" data-v-5bfe39f2><select data-v-5bfe39f2><option value="[object Object]" data-v-5bfe39f2>multiply: 1.10x, win chance: 90.00%</option><option value="[object Object]" data-v-5bfe39f2>multiply: 1.32x, win chance: 75.00%</option><option value="[object Object]" data-v-5bfe39f2>multiply: 1.50x, win chance: 66.00%</option><option selected="selected" value="[object Object]" data-v-5bfe39f2>multiply: 1.98x, win chance: 50.00%</option><option value="[object Object]" data-v-5bfe39f2>multiply: 2.00x, win chance: 49.50%</option><option value="[object Object]" data-v-5bfe39f2>multiply: 3.00x, win chance: 33.00%</option><option value="[object Object]" data-v-5bfe39f2>multiply: 4.00x, win chance: 24.75%</option></select></div></div><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>Number of rolls:</span><input type="text" value="50" data-v-5bfe39f2></div></div></div><div class="header" data-v-5bfe39f2><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>On loss:</span><div class="win-loss" data-v-5bfe39f2><span class="button" data-v-5bfe39f2>Reset to base</span><span class="button is-danger" data-v-5bfe39f2>Increase by %:</span><input type="text" value="100" data-v-5bfe39f2></div></div><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>On win:</span><div class="win-loss" data-v-5bfe39f2><span class="button is-success" data-v-5bfe39f2>Reset to base</span><span class="button" data-v-5bfe39f2>Increase by %:</span><input type="text" value="50" data-v-5bfe39f2></div></div></div><a class="button is-primary" data-v-5bfe39f2>RUN</a><table style="max-height:400px;" data-v-5bfe39f2><thead data-v-5bfe39f2><tr data-v-5bfe39f2><th style="width:1%;padding:0;" data-v-5bfe39f2>Run</th><th data-v-5bfe39f2>Avg Cash</th><th style="width:1%;" data-v-5bfe39f2>Avg Profit from start</th><th data-v-5bfe39f2>Avg win</th><th data-v-5bfe39f2>Avg loss</th><th style="width:1%;padding:0;" data-v-5bfe39f2>Avg Single Profit</th><th style="width:1%;padding:0;" data-v-5bfe39f2>Highest Bet</th><th style="width:1%;padding:0.5rem;" data-v-5bfe39f2>Highest Losses Cnt</th><th style="width:1%;padding:0.5rem;" data-v-5bfe39f2>Bancrupt %</th></tr></thead><tbody data-v-5bfe39f2><tr data-v-5bfe39f2><td colspan="1" style="text-align:right;" data-v-5bfe39f2>0</td><td colspan="8" data-v-5bfe39f2>100</td></tr></tbody></table><canvas id="auto_canvas" style="display:none;" data-v-5bfe39f2></canvas></div><div id="table" class="game-tab" style="display:none;" data-v-5bfe39f2><div class="game-tab" data-v-5bfe39f2><div class="header" data-v-5bfe39f2><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>Start Cash:</span><input type="text" value="100" data-v-5bfe39f2></div><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>START BET AMOUNT:</span><input type="text" value="1" data-v-5bfe39f2></div><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>Number of runs:</span><input type="text" value="1000" data-v-5bfe39f2></div></div><div class="header" data-v-5bfe39f2><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>GAME:</span><div class="select" data-v-5bfe39f2><select data-v-5bfe39f2><option value="[object Object]" data-v-5bfe39f2>multiply: 1.10x, win chance: 90.00%</option><option value="[object Object]" data-v-5bfe39f2>multiply: 1.32x, win chance: 75.00%</option><option value="[object Object]" data-v-5bfe39f2>multiply: 1.50x, win chance: 66.00%</option><option selected="selected" value="[object Object]" data-v-5bfe39f2>multiply: 1.98x, win chance: 50.00%</option><option value="[object Object]" data-v-5bfe39f2>multiply: 2.00x, win chance: 49.50%</option><option value="[object Object]" data-v-5bfe39f2>multiply: 3.00x, win chance: 33.00%</option><option value="[object Object]" data-v-5bfe39f2>multiply: 4.00x, win chance: 24.75%</option></select></div></div><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>Number of rolls:</span><input type="text" value="50" data-v-5bfe39f2></div></div></div><div class="header-table" data-v-5bfe39f2><div class="table_line" data-v-5bfe39f2><div class="loss_line" style="visibility:visible;" data-v-5bfe39f2><div class="header" data-v-5bfe39f2><div class="info" data-v-5bfe39f2><span class="title" style="margin-right:8rem;" data-v-5bfe39f2>On Loss #:</span></div></div><!----><div class="header" data-v-5bfe39f2><div class="number" data-v-5bfe39f2>
                1
              </div><span data-v-5bfe39f2><span class="red" data-v-9e33b382>LOSS: </span>1.00
              </span></div><div class="win-loss" data-v-5bfe39f2><span class="button is-danger" data-v-5bfe39f2>Reset to base</span><span class="button" data-v-5bfe39f2>Increase by %:</span><input type="text" value="0" data-v-5bfe39f2></div><!----></div><div class="win_line" style="visibility:visible;" data-v-5bfe39f2><div class="header" data-v-5bfe39f2><div class="info" data-v-5bfe39f2><span class="title" style="margin-right:1rem;" data-v-5bfe39f2>On Win #:</span></div></div><!----><div class="header" data-v-5bfe39f2><div class="number" data-v-5bfe39f2>
                1
              </div><span data-v-5bfe39f2><span style="color:#00d1b2;" data-v-5bfe39f2>WIN: </span>0.98
              </span></div><div class="win-loss" data-v-5bfe39f2><span class="button is-success" data-v-5bfe39f2>Reset to base</span><span class="button" data-v-5bfe39f2>Increase by %:</span><input type="text" value="0" data-v-5bfe39f2></div><!----></div></div><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></div><a class="button is-primary" data-v-5bfe39f2>RUN</a><table style="max-height:400px;" data-v-5bfe39f2><thead data-v-5bfe39f2><tr data-v-5bfe39f2><th style="width:1%;padding:0;" data-v-5bfe39f2>Run</th><th data-v-5bfe39f2>Avg Cash</th><th style="width:1%;" data-v-5bfe39f2>Avg Profit from start</th><th data-v-5bfe39f2>Avg win</th><th data-v-5bfe39f2>Avg loss</th><th style="width:1%;padding:0;" data-v-5bfe39f2>Avg Single Profit</th><th style="width:1%;padding:0;" data-v-5bfe39f2>Highest Bet</th><th style="width:1%;padding:0.5rem;" data-v-5bfe39f2>Avg Highest Losses Cnt</th><th style="width:1%;padding:0.5rem;" data-v-5bfe39f2>Bancrupt %</th></tr></thead><tbody data-v-5bfe39f2><tr data-v-5bfe39f2><td colspan="1" style="text-align:right;" data-v-5bfe39f2>0</td><td colspan="8" data-v-5bfe39f2>100</td></tr></tbody></table><canvas id="table_canvas" style="display:none;" data-v-5bfe39f2></canvas></div><div class="game-tab" style="display:none;" data-v-5bfe39f2><div class="game-tab" data-v-5bfe39f2><div class="header" data-v-5bfe39f2><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>Start Cash:</span><input type="text" value="100" data-v-5bfe39f2></div><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>Number of runs:</span><input type="text" value="1000" data-v-5bfe39f2></div></div></div><div class="header" data-v-5bfe39f2><div class="info" data-v-5bfe39f2><span class="title" data-v-5bfe39f2>System numbers:</span></div></div><input type="text" value="1,2,3,4,5" style="width:100%;" data-v-5bfe39f2><a class="button is-primary" style="margin-top:1rem;" data-v-5bfe39f2>RUN</a><table style="max-height:400px;" data-v-5bfe39f2><thead data-v-5bfe39f2><tr data-v-5bfe39f2><th style="padding:0;" data-v-5bfe39f2>Rolls</th><th data-v-5bfe39f2>%</th><th data-v-5bfe39f2>Avg Profit</th><th data-v-5bfe39f2>Avg Profit * %</th><th data-v-5bfe39f2>Highest Bet</th><th data-v-5bfe39f2>Highest list</th></tr></thead><tbody data-v-5bfe39f2><tr data-v-5bfe39f2><td colspan="1" style="text-align:right;" data-v-5bfe39f2><strong style="color:#00d1b2;" data-v-5bfe39f2>Win rolls: </strong></td><td colspan="8" data-v-5bfe39f2>0 (NaN %)</td></tr><tr data-v-5bfe39f2><td colspan="1" style="text-align:right;" data-v-5bfe39f2><span class="red" data-v-9e33b382><strong data-v-9e33b382>Loss rolls: </strong></span></td><td colspan="8" data-v-5bfe39f2>0 (NaN %)</td></tr><tr data-v-5bfe39f2><td colspan="3" style="text-align:right;" data-v-5bfe39f2><strong data-v-5bfe39f2>Avg profit: </strong></td><td colspan="8" data-v-5bfe39f2>0.00</td></tr></tbody></table><canvas id="lab_canvas" style="display:none;" data-v-5bfe39f2></canvas></div></div></div></div><h2 id="artykul"><a href="#artykul" aria-hidden="true" class="header-anchor">#</a> ArtykuÅ‚</h2><h3 id="definicja"><a href="#definicja" aria-hidden="true" class="header-anchor">#</a> Definicja</h3><p>Zacznijmy od definicji Gry. Najpierw naleÅ¼y stworzyÄ‡ funkcjÄ™ ktÃ³ra nam zwrÃ³ci kwotÄ… ktÃ³rÄ… wygraliÅ›my na plus (jeÅ›li wygramy) lub na minus jeÅ›li przegramy.</p><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> random <span class="token keyword">as</span> r

games <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;1.10&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'count'</span><span class="token punctuation">:</span> <span class="token number">1.10</span><span class="token punctuation">,</span> <span class="token string">'chance'</span><span class="token punctuation">:</span> <span class="token number">0.90</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;1.32&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'count'</span><span class="token punctuation">:</span> <span class="token number">1.32</span><span class="token punctuation">,</span> <span class="token string">'chance'</span><span class="token punctuation">:</span> <span class="token number">0.75</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        
        <span class="token string">&quot;1.50&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'count'</span><span class="token punctuation">:</span> <span class="token number">1.50</span><span class="token punctuation">,</span> <span class="token string">'chance'</span><span class="token punctuation">:</span> <span class="token number">0.66</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        
        <span class="token string">&quot;1.98&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'count'</span><span class="token punctuation">:</span> <span class="token number">1.98</span><span class="token punctuation">,</span> <span class="token string">'chance'</span><span class="token punctuation">:</span> <span class="token number">0.50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        
        <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'count'</span><span class="token punctuation">:</span> <span class="token number">2.00</span><span class="token punctuation">,</span> <span class="token string">'chance'</span><span class="token punctuation">:</span> <span class="token number">0.495</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        
        <span class="token string">&quot;3.00&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'count'</span><span class="token punctuation">:</span> <span class="token number">3.00</span><span class="token punctuation">,</span> <span class="token string">'chance'</span><span class="token punctuation">:</span> <span class="token number">0.33</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        
        <span class="token string">&quot;4.00&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'count'</span><span class="token punctuation">:</span> <span class="token number">4.00</span><span class="token punctuation">,</span> <span class="token string">'chance'</span><span class="token punctuation">:</span> <span class="token number">0.2475</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        
        <span class="token punctuation">}</span>


<span class="token keyword">def</span> <span class="token function">play</span><span class="token punctuation">(</span>bet<span class="token punctuation">,</span>game_count<span class="token punctuation">)</span><span class="token punctuation">:</span>
    result <span class="token operator">=</span> r<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span>
    game <span class="token operator">=</span> games<span class="token punctuation">[</span>game_count<span class="token punctuation">]</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>result <span class="token operator">&lt;=</span> game<span class="token punctuation">[</span><span class="token string">'chance'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> bet <span class="token operator">*</span> game<span class="token punctuation">[</span><span class="token string">'count'</span><span class="token punctuation">]</span> <span class="token operator">-</span> bet
    <span class="token keyword">return</span> <span class="token operator">-</span>bet

</code></pre></div><p>I dla przykÅ‚adu:</p><div class="language-R extra-class"><pre class="language-r"><code>play<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;1.50&quot;</span><span class="token punctuation">)</span>
play<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;1.50&quot;</span><span class="token punctuation">)</span>
play<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;1.50&quot;</span><span class="token punctuation">)</span>

<span class="token operator">-</span><span class="token number">1</span>
<span class="token number">0.5</span>
<span class="token operator">-</span><span class="token number">1</span>

<span class="token punctuation">[</span>play<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;1.50&quot;</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">]</span>
</code></pre></div><p>Problemem z takimi funkcjami jest to Å¼e nie sÄ… deterministyczne ğŸ˜¦ To znaczy nie moÅ¼emy ich testowaÄ‡ tak jak sÄ… poniewaÅ¼ za kaÅ¼dym razem mogÄ… zwrÃ³ciÄ‡ inny wynik. WiÄ™c w przypadku testÃ³w dla takiej funkcji warto przed kaÅ¼dym uruchomieniem ustawiÄ‡ ziarno dla funkcji random.</p><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">print</span><span class="token punctuation">(</span>play<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;1.10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># -1 or 0.1 random</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>play<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;4.00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 3.0 or -1 random</span>


r<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>play<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;1.10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#always 0.1000</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>play<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;4.00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#always 3.0</span>
    

r<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>play<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;1.10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#always 0.1000</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>play<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;4.00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#always 3.0</span>

</code></pre></div><p>Na poczÄ…tek zaaplikujemy algorytm automatyczny znany z wielu gier kasowych. Polega on na zwiÄ™kszeniu bÄ…dÅ¼ zmniejszeniu zakÅ‚adu gdy przegramy albo wygramy. WartoÅ›Ä‡ -1 oznacza Å¼e wracamy do puli poczÄ…tkowej.</p><ul><li><strong>start_bet</strong> - poczÄ…tkwy zakÅ‚ad</li><li><strong>bet</strong> - aktualny zakÅ‚ad</li><li><strong>result</strong> - ile wygraliÅ›my, wartoÅ›Ä‡ na minusie oznacza Å¼e przegraliÅ›my</li><li><strong>on_loss</strong> - O ile podnieÅ›Ä‡ wartoÅ›Ä‡ po przegranej . WartoÅ›Ä‡ -1 oznacza powrÃ³t do wartoÅ›ci poczÄ…tkowy</li><li><strong>on_win</strong> - O ile podnieÅ›Ä‡ wartoÅ›Ä‡ po wygranej. WartoÅ›Ä‡ -1 oznacza powrÃ³t do wartoÅ›ci poczÄ…tkowy</li></ul><p>CaÅ‚y algorytm wyglÄ…da nastÄ™pujÄ…co</p><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># on_loss/on_win = -1 return to base</span>
<span class="token keyword">def</span> <span class="token function">auto_method</span><span class="token punctuation">(</span>start_bet<span class="token punctuation">,</span> bet<span class="token punctuation">,</span> result<span class="token punctuation">,</span> on_loss<span class="token punctuation">,</span> on_win<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>result <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> start_bet <span class="token keyword">if</span> on_win <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">else</span> bet<span class="token operator">+</span>bet<span class="token operator">*</span>on_win
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> start_bet <span class="token keyword">if</span> on_loss <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">else</span> bet<span class="token operator">+</span>bet<span class="token operator">*</span>on_loss
</code></pre></div><div class="language-R extra-class"><pre class="language-r"><code>print<span class="token punctuation">(</span>auto_method<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 1</span>
print<span class="token punctuation">(</span>auto_method<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 20</span>

print<span class="token punctuation">(</span>auto_method<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 2</span>
print<span class="token punctuation">(</span>auto_method<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 30</span>
</code></pre></div><p>Warto teraz zrobiÄ‡ sobie automat ktÃ³ry zasymuluje grÄ™ za kaÅ¼dym razem grajÄ…c i wyrzucajÄ…c wynik tak Å¼eby pÃ³Å¼niej moÅ¼na byÅ‚o sporzÄ…dziÄ‡ wyniki.</p><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

<span class="token comment"># on_loss/on_win = -1 return to base</span>
<span class="token keyword">def</span> <span class="token function">auto_run</span><span class="token punctuation">(</span>start_bet <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> cash <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> game_count <span class="token operator">=</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">,</span> rolls <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span>
             on_loss <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> on_win <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> simulation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment">#results = pd.DataFrame(columns=['roll','cash_before','bet','bancrupt', 'result','cash'],dtype=float)</span>
    bet <span class="token operator">=</span> start_bet
    
    result_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>rolls<span class="token punctuation">)</span><span class="token punctuation">:</span>
          cash_before <span class="token operator">=</span> cash
          <span class="token keyword">if</span><span class="token punctuation">(</span>cash_before <span class="token operator">&lt;</span> bet<span class="token punctuation">)</span><span class="token punctuation">:</span>
              result_list<span class="token punctuation">.</span>extend<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span>i<span class="token operator">+</span>ii<span class="token punctuation">,</span> cash<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> cash<span class="token punctuation">,</span> simulation<span class="token punctuation">]</span> <span class="token keyword">for</span> ii <span class="token keyword">in</span> <span class="token builtin">range</span> <span class="token punctuation">(</span>rolls<span class="token operator">-</span>i<span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">)</span>
              <span class="token keyword">break</span>
    
          result <span class="token operator">=</span> play<span class="token punctuation">(</span>bet<span class="token punctuation">,</span> game_count<span class="token punctuation">)</span>
          cash <span class="token operator">+=</span> result

          result_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span> i<span class="token punctuation">,</span>cash_before<span class="token punctuation">,</span> bet<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> result<span class="token punctuation">,</span> cash<span class="token punctuation">,</span> simulation <span class="token punctuation">]</span><span class="token punctuation">)</span>
          bet <span class="token operator">=</span> auto_method<span class="token punctuation">(</span>start_bet<span class="token punctuation">,</span>bet<span class="token punctuation">,</span>result<span class="token punctuation">,</span>on_loss<span class="token punctuation">,</span>on_win<span class="token punctuation">)</span>
    <span class="token keyword">return</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>result_list<span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'roll'</span><span class="token punctuation">,</span><span class="token string">'cash_before'</span><span class="token punctuation">,</span><span class="token string">'bet'</span><span class="token punctuation">,</span><span class="token string">'bancrupt'</span><span class="token punctuation">,</span> <span class="token string">'result'</span><span class="token punctuation">,</span><span class="token string">'cash'</span><span class="token punctuation">,</span> <span class="token string">'simulation'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span><span class="token builtin">float</span><span class="token punctuation">)</span>
</code></pre></div><p>PojedyÅ„cze uruchomienie zwraca pojedyÅ„cze wydarzenie, i jak moÅ¼na siÄ™ domyÅ›leÄ‡ czasami wygrywamy i czasami przegrywamy.  Popatrzmy na przykÅ‚ad na zwykÅ‚e podwajanie stawki <code>on_loss = 1</code> przy graniu na typowym zakÅ‚adzie <code>game_count = &quot;2.0&quot;</code>, czyli zwraca nam dwukrotnoÅ›Ä‡, ale szansa wygrania wynosi <code>0.495</code>.</p><div class="language-python extra-class"><pre class="language-python"><code>auto_run<span class="token punctuation">(</span>game_count <span class="token operator">=</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">,</span>cash <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> start_bet <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> on_loss <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> rolls <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code>   roll  cash_before   bet  bancrupt  result   cash  simulation
<span class="token number">0</span>   <span class="token number">0.0</span>        <span class="token number">100.0</span>   <span class="token number">1.0</span>       <span class="token number">0.0</span>     <span class="token number">1.0</span>  <span class="token number">101.0</span>         <span class="token number">0.0</span>
<span class="token number">1</span>   <span class="token number">1.0</span>        <span class="token number">101.0</span>   <span class="token number">1.0</span>       <span class="token number">0.0</span>    <span class="token operator">-</span><span class="token number">1.0</span>  <span class="token number">100.0</span>         <span class="token number">0.0</span>
<span class="token number">2</span>   <span class="token number">2.0</span>        <span class="token number">100.0</span>   <span class="token number">2.0</span>       <span class="token number">0.0</span>    <span class="token operator">-</span><span class="token number">2.0</span>   <span class="token number">98.0</span>         <span class="token number">0.0</span>
<span class="token number">3</span>   <span class="token number">3.0</span>         <span class="token number">98.0</span>   <span class="token number">4.0</span>       <span class="token number">0.0</span>     <span class="token number">4.0</span>  <span class="token number">102.0</span>         <span class="token number">0.0</span>
<span class="token number">4</span>   <span class="token number">4.0</span>        <span class="token number">102.0</span>   <span class="token number">1.0</span>       <span class="token number">0.0</span>    <span class="token operator">-</span><span class="token number">1.0</span>  <span class="token number">101.0</span>         <span class="token number">0.0</span>
<span class="token number">5</span>   <span class="token number">5.0</span>        <span class="token number">101.0</span>   <span class="token number">2.0</span>       <span class="token number">0.0</span>    <span class="token operator">-</span><span class="token number">2.0</span>   <span class="token number">99.0</span>         <span class="token number">0.0</span>
<span class="token number">6</span>   <span class="token number">6.0</span>         <span class="token number">99.0</span>   <span class="token number">4.0</span>       <span class="token number">0.0</span>    <span class="token operator">-</span><span class="token number">4.0</span>   <span class="token number">95.0</span>         <span class="token number">0.0</span>
<span class="token number">7</span>   <span class="token number">7.0</span>         <span class="token number">95.0</span>   <span class="token number">8.0</span>       <span class="token number">0.0</span>    <span class="token operator">-</span><span class="token number">8.0</span>   <span class="token number">87.0</span>         <span class="token number">0.0</span>
<span class="token number">8</span>   <span class="token number">8.0</span>         <span class="token number">87.0</span>  <span class="token number">16.0</span>       <span class="token number">0.0</span>   <span class="token operator">-</span><span class="token number">16.0</span>   <span class="token number">71.0</span>         <span class="token number">0.0</span>
<span class="token number">9</span>   <span class="token number">9.0</span>         <span class="token number">71.0</span>  <span class="token number">32.0</span>       <span class="token number">0.0</span>   <span class="token operator">-</span><span class="token number">32.0</span>   <span class="token number">39.0</span>         <span class="token number">0.0</span>
</code></pre></div><p>MieliÅ›my akurat pecha ğŸ˜„, od 4 rzutu caÅ‚y czas przegrywaliÅ›my i ostatecznie skoÅ„czyliÅ›my z kwotÄ… <code>39.0</code> ze <code>100</code> na poczÄ…tku. GdybyÅ›my dalej stosowali tÄ… strategie nastÄ™pnie musielibyÅ›my postawiÄ‡ kwotÄ™ <code>64.0</code>, ale takiej kwoty juÅ¼ nie posiadamy.</p><p>Innym razem:</p><div class="language-python extra-class"><pre class="language-python"><code>auto_run<span class="token punctuation">(</span>game_count <span class="token operator">=</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">,</span>cash <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> start_bet <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> on_loss <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> rolls <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-r extra-class"><pre class="language-r"><code>   roll  cash_before  bet  bancrupt  result   cash  simulation
<span class="token number">0</span>   <span class="token number">0.0</span>        <span class="token number">100.0</span>  <span class="token number">1.0</span>       <span class="token number">0.0</span>     <span class="token number">1.0</span>  <span class="token number">101.0</span>         <span class="token number">0.0</span>
<span class="token number">1</span>   <span class="token number">1.0</span>        <span class="token number">101.0</span>  <span class="token number">1.0</span>       <span class="token number">0.0</span>     <span class="token number">1.0</span>  <span class="token number">102.0</span>         <span class="token number">0.0</span>
<span class="token number">2</span>   <span class="token number">2.0</span>        <span class="token number">102.0</span>  <span class="token number">1.0</span>       <span class="token number">0.0</span>     <span class="token number">1.0</span>  <span class="token number">103.0</span>         <span class="token number">0.0</span>
<span class="token number">3</span>   <span class="token number">3.0</span>        <span class="token number">103.0</span>  <span class="token number">1.0</span>       <span class="token number">0.0</span>     <span class="token number">1.0</span>  <span class="token number">104.0</span>         <span class="token number">0.0</span>
<span class="token number">4</span>   <span class="token number">4.0</span>        <span class="token number">104.0</span>  <span class="token number">1.0</span>       <span class="token number">0.0</span>     <span class="token number">1.0</span>  <span class="token number">105.0</span>         <span class="token number">0.0</span>
<span class="token number">5</span>   <span class="token number">5.0</span>        <span class="token number">105.0</span>  <span class="token number">1.0</span>       <span class="token number">0.0</span>    <span class="token operator">-</span><span class="token number">1.0</span>  <span class="token number">104.0</span>         <span class="token number">0.0</span>
<span class="token number">6</span>   <span class="token number">6.0</span>        <span class="token number">104.0</span>  <span class="token number">2.0</span>       <span class="token number">0.0</span>     <span class="token number">2.0</span>  <span class="token number">106.0</span>         <span class="token number">0.0</span>
<span class="token number">7</span>   <span class="token number">7.0</span>        <span class="token number">106.0</span>  <span class="token number">1.0</span>       <span class="token number">0.0</span>     <span class="token number">1.0</span>  <span class="token number">107.0</span>         <span class="token number">0.0</span>
<span class="token number">8</span>   <span class="token number">8.0</span>        <span class="token number">107.0</span>  <span class="token number">1.0</span>       <span class="token number">0.0</span>    <span class="token operator">-</span><span class="token number">1.0</span>  <span class="token number">106.0</span>         <span class="token number">0.0</span>
<span class="token number">9</span>   <span class="token number">9.0</span>        <span class="token number">106.0</span>  <span class="token number">2.0</span>       <span class="token number">0.0</span>     <span class="token number">2.0</span>  <span class="token number">108.0</span>         <span class="token number">0.0</span>
</code></pre></div><p>Tym razem wyÅ›liszmy na plusie o <code>8.0</code> po 10 zakÅ‚adach. Na takim pojedyÅ„czym sprawdzeniu nie moÅ¼na oprzeÄ‡ symulacji, ale moÅ¼na siÄ™ poprzeÄ‡ <strong>Prawem Wielkich Liczb</strong>.</p><blockquote><p>â€Z prawdopodobieÅ„stwem dowolnie bliskim 1 moÅ¼na siÄ™ spodziewaÄ‡, iÅ¼ przy dostatecznie wielkiej liczbie prÃ³bÂ danego zdarzenia lsowegoÂ bÄ™dzie siÄ™ dowolnie maÅ‚o rÃ³Å¼niÅ‚a od jego prawdopodobieÅ„stwa.â€[<a href="https://pl.wikipedia.org/wiki/Prawo_wielkich_liczb#cite_note-1" target="_blank" rel="noopener noreferrer">1]<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p>ZwiÄ™kszajÄ…c liczbÄ™ doÅ›wiadczeÅ„ opartych na zdarzeniach losowych, moÅ¼emy oczekiwaÄ‡ rozkÅ‚adu wynikÃ³w coraz lepiej odpowiadajÄ…cego rozkÅ‚adowi prawdopodobieÅ„stw zdarzeÅ„ (na przykÅ‚ad, przeprowadzajÄ…c wielkÄ… liczbÄ™ rzutÃ³w symetrycznÄ… monetÄ…, moÅ¼emy oczekiwaÄ‡ Å¼e stosunek liczby â€wyrzuconychâ€ orÅ‚Ã³w do liczby wszystkich rzutÃ³w bÄ™dzie bliski 0,5 (wartoÅ›ci prawdopodobieÅ„stwa); tym wiÄ™ksze sÄ… na to szanse im wiÄ™ksza jest liczba rzutÃ³w)</p></blockquote><p>Zamiast opieraÄ‡ siÄ™ na pojedyÅ„czym zdarzeniu zwiÄ™kszymy liczbÄ™ doÅ›wiadczeÅ„ dziÄ™ki czemu bÄ™dziemy mogli zobaczyÄ‡ jak dana strategia ma siÄ™ do rzeczywistoÅ›ci.</p><h3 id="automat"><a href="#automat" aria-hidden="true" class="header-anchor">#</a> Automat</h3><p>Automat wykonuje symulacje na zadanÄ… liczbÄ™ uruchomieÅ„ (runs) i zwraca uÅ›rednione wartoÅ›ci dla kaÅ¼dego rzutu poczÄ…wszy od <code>0</code> do <code>rolls</code>.</p><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">auto_simulation</span><span class="token punctuation">(</span>runs <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
                    start_bet <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> cash <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> 
                    game_count <span class="token operator">=</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">,</span> rolls <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span>
                    on_loss <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> on_win <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
    Simulate whole auto_run n-times (runs)
    
    Returns: Cash plot and statistics for each roll.
    
    &quot;&quot;&quot;</span>
    df <span class="token operator">=</span> pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>
            auto_run<span class="token punctuation">(</span>start_bet<span class="token punctuation">,</span>cash<span class="token punctuation">,</span>game_count<span class="token punctuation">,</span>rolls<span class="token punctuation">,</span>on_loss<span class="token punctuation">,</span>on_win<span class="token punctuation">,</span>simulation <span class="token operator">=</span> i<span class="token punctuation">)</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>runs<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>ignore_index <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
    df <span class="token operator">=</span> df<span class="token punctuation">.</span>assign<span class="token punctuation">(</span>profit <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>cash <span class="token operator">-</span> x<span class="token punctuation">.</span>cash_before <span class="token punctuation">)</span>
    df <span class="token operator">=</span> df<span class="token punctuation">.</span>assign<span class="token punctuation">(</span>profitr <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>cash <span class="token operator">-</span> cash<span class="token punctuation">)</span>

    <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
    statistics <span class="token operator">=</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'roll'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>agg<span class="token punctuation">(</span>
             <span class="token punctuation">{</span>
              <span class="token string">'bet'</span><span class="token punctuation">:</span>  <span class="token punctuation">{</span> <span class="token string">'max'</span><span class="token punctuation">:</span> <span class="token string">'max'</span><span class="token punctuation">,</span> 
                        <span class="token string">'cnt'</span><span class="token punctuation">:</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span>  <span class="token punctuation">(</span>x<span class="token punctuation">[</span>x<span class="token operator">==</span>np<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">'bancrupt'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">'%'</span><span class="token punctuation">:</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">/</span>runs<span class="token operator">*</span><span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">'profit'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">''</span><span class="token punctuation">:</span> <span class="token string">'mean'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>           
              <span class="token string">'profitr'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">''</span><span class="token punctuation">:</span> <span class="token string">'mean'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> 
              <span class="token string">'cash'</span><span class="token punctuation">:</span>  <span class="token punctuation">{</span> <span class="token string">''</span><span class="token punctuation">:</span> <span class="token string">'mean'</span><span class="token punctuation">,</span>
                        <span class="token string">'win.%'</span><span class="token punctuation">:</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span>x<span class="token operator">&gt;</span>cash<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span>runs<span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">,</span>
                        <span class="token string">'win'</span><span class="token punctuation">:</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span>x<span class="token operator">&gt;</span>cash<span class="token punctuation">]</span><span class="token operator">-</span>cash<span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token string">'loss.%'</span><span class="token punctuation">:</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span>x<span class="token operator">&lt;</span>cash<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span>runs<span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">,</span>
                        <span class="token string">'loss'</span><span class="token punctuation">:</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span>x<span class="token operator">&lt;</span>cash<span class="token punctuation">]</span><span class="token operator">-</span>cash<span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span> 

              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">round</span><span class="token punctuation">(</span>decimals<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
    statistics<span class="token punctuation">.</span>columns <span class="token operator">=</span> statistics<span class="token punctuation">.</span>columns<span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">.</span>join<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span>rstrip<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span>
    statistics<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'bet.maxr'</span><span class="token punctuation">,</span>statistics<span class="token punctuation">[</span><span class="token string">'bet.max'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cummax<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    statistics<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'bet.cntr'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>nan<span class="token punctuation">)</span>

    <span class="token comment">#calculate running sum for statistics</span>
    <span class="token keyword">for</span> s <span class="token keyword">in</span> statistics<span class="token punctuation">.</span>index<span class="token punctuation">:</span>
        statistics<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>s<span class="token punctuation">,</span><span class="token string">'bet.cntr'</span><span class="token punctuation">]</span> <span class="token operator">=</span> statistics<span class="token punctuation">[</span> 
                <span class="token punctuation">(</span>statistics<span class="token punctuation">[</span><span class="token string">'bet.max'</span><span class="token punctuation">]</span> <span class="token operator">==</span> statistics<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>s<span class="token punctuation">,</span><span class="token string">'bet.maxr'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> 
                <span class="token punctuation">(</span>statistics<span class="token punctuation">[</span><span class="token string">'roll'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>statistics<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>s<span class="token punctuation">,</span><span class="token string">'roll'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'bet.cnt'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
        
    statistics<span class="token punctuation">[</span><span class="token string">'bet.cnt'</span><span class="token punctuation">]</span> <span class="token operator">=</span> statistics<span class="token punctuation">[</span><span class="token string">'bet.cnt'</span><span class="token punctuation">]</span><span class="token operator">/</span>runs<span class="token operator">*</span><span class="token number">100</span>
    statistics<span class="token punctuation">[</span><span class="token string">'bet.cntr'</span><span class="token punctuation">]</span> <span class="token operator">=</span> statistics<span class="token punctuation">[</span><span class="token string">'bet.cntr'</span><span class="token punctuation">]</span><span class="token operator">/</span>runs<span class="token operator">*</span><span class="token number">100</span>

    statistics <span class="token operator">=</span> statistics<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>index<span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">,</span> columns <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'bet.cnt'</span><span class="token punctuation">:</span> <span class="token string">'bet.%'</span><span class="token punctuation">,</span> <span class="token string">'bet.cntr'</span><span class="token punctuation">:</span> <span class="token string">'betr.%'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

    plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">&quot;rolls&quot;</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">&quot;cash&quot;</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>statistics<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'cash'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> statistics
</code></pre></div><p>Uruchomienie jej dla <code>10, 100, 1000</code> nie zwraca nam tendencji w wyniku, ale juÅ¼ przy <code>10,000</code> moÅ¼na pokusiÄ‡ siÄ™ o tendencje i powtarzalnoÅ›Ä‡ ktÃ³ra jest niestety opadajÄ…ca ğŸ˜ . PoniÅ¼ej symulacja ktÃ³rÄ… przeprowadziÅ‚Ä™m dla <code>100000</code> uruchomieÅ„.</p><div class="language-python extra-class"><pre class="language-python"><code>auto_simulation<span class="token punctuation">(</span>runs<span class="token operator">=</span><span class="token number">100000</span><span class="token punctuation">,</span> game_count <span class="token operator">=</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">,</span>cash <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> start_bet <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> on_loss <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>  rolls <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="/assets/img/1533987621724.a21aa23e.png" alt="1533987621724"></p><div class="language-R extra-class"><pre class="language-r"><code>roll  betr            bet           bancrupt profit profitr          cash          cash
	  maxr     %       max       %      %                     cash   win%   win    loss%     loss    
<span class="token number">0.0</span>    <span class="token number">1.0</span>  <span class="token number">100.000</span>    <span class="token number">1.0</span>  <span class="token number">100.000</span>  <span class="token number">0.00</span>    <span class="token operator">-</span><span class="token number">0.01</span>    <span class="token operator">-</span><span class="token number">0.01</span>   <span class="token number">99.99</span>  <span class="token number">49.57</span>  <span class="token number">1.00</span>   <span class="token number">50.43</span>    <span class="token operator">-</span><span class="token number">1.00</span> 
<span class="token number">1.0</span>    <span class="token number">2.0</span>   <span class="token number">50.434</span>    <span class="token number">2.0</span>   <span class="token number">50.434</span>  <span class="token number">0.00</span>    <span class="token operator">-</span><span class="token number">0.01</span>    <span class="token operator">-</span><span class="token number">0.02</span>   <span class="token number">99.98</span>  <span class="token number">49.60</span>  <span class="token number">1.50</span>   <span class="token number">25.44</span>    <span class="token operator">-</span><span class="token number">3.00</span> 
<span class="token number">2.0</span>    <span class="token number">4.0</span>   <span class="token number">25.445</span>    <span class="token number">4.0</span>   <span class="token number">25.445</span>  <span class="token number">0.00</span>    <span class="token operator">-</span><span class="token number">0.02</span>    <span class="token operator">-</span><span class="token number">0.04</span>   <span class="token number">99.96</span>  <span class="token number">62.03</span>  <span class="token number">1.79</span>   <span class="token number">25.37</span>    <span class="token operator">-</span><span class="token number">4.53</span> 
<span class="token number">3.0</span>    <span class="token number">8.0</span>   <span class="token number">12.826</span>    <span class="token number">8.0</span>   <span class="token number">12.826</span>  <span class="token number">0.00</span>    <span class="token operator">-</span><span class="token number">0.02</span>    <span class="token operator">-</span><span class="token number">0.06</span>   <span class="token number">99.91</span>  <span class="token number">71.30</span>  <span class="token number">2.59</span>   <span class="token number">22.39</span>    <span class="token operator">-</span><span class="token number">8.64</span>
<span class="token number">4.0</span>   <span class="token number">16.0</span>    <span class="token number">6.530</span>   <span class="token number">16.0</span>    <span class="token number">6.530</span>  <span class="token number">0.00</span>    <span class="token operator">-</span><span class="token number">0.03</span>    <span class="token operator">-</span><span class="token number">0.09</span>   <span class="token number">99.91</span>  <span class="token number">71.30</span>  <span class="token number">2.59</span>   <span class="token number">22.39</span>    <span class="token operator">-</span><span class="token number">8.64</span>  
<span class="token number">5.0</span>   <span class="token number">32.0</span>    <span class="token number">3.247</span>   <span class="token number">32.0</span>    <span class="token number">3.247</span>  <span class="token number">0.00</span>    <span class="token operator">-</span><span class="token number">0.04</span>    <span class="token operator">-</span><span class="token number">0.13</span>   <span class="token number">99.87</span>  <span class="token number">74.28</span>  <span class="token number">3.00</span>   <span class="token number">19.25</span>   <span class="token operator">-</span><span class="token number">12.26</span>
<span class="token ellipsis">...</span>
<span class="token number">41.0</span>  <span class="token number">64.0</span>    <span class="token number">0.001</span>   <span class="token number">32.0</span>    <span class="token number">1.278</span>  <span class="token number">27.22</span>   <span class="token operator">-</span><span class="token number">0.03</span>    <span class="token operator">-</span><span class="token number">0.97</span>   <span class="token number">99.03</span>  <span class="token number">70.79</span>  <span class="token number">20.10</span>  <span class="token number">29.14</span>   <span class="token operator">-</span><span class="token number">52.14</span>  
<span class="token number">42.0</span>  <span class="token number">64.0</span>    <span class="token number">0.003</span>   <span class="token number">64.0</span>    <span class="token number">0.002</span>  <span class="token number">27.85</span>   <span class="token operator">-</span><span class="token number">0.00</span>    <span class="token operator">-</span><span class="token number">0.97</span>   <span class="token number">99.03</span>  <span class="token number">70.27</span>  <span class="token number">20.60</span>  <span class="token number">29.68</span>   <span class="token operator">-</span><span class="token number">52.02</span> 
<span class="token number">43.0</span>  <span class="token number">64.0</span>    <span class="token number">0.003</span>   <span class="token number">32.0</span>    <span class="token number">1.211</span>  <span class="token number">28.44</span>   <span class="token operator">-</span><span class="token number">0.03</span>    <span class="token operator">-</span><span class="token number">1.00</span>   <span class="token number">99.00</span>  <span class="token number">69.66</span>  <span class="token number">21.11</span>  <span class="token number">30.31</span>   <span class="token operator">-</span><span class="token number">51.81</span>
<span class="token number">44.0</span>  <span class="token number">64.0</span>    <span class="token number">0.009</span>   <span class="token number">64.0</span>    <span class="token number">0.006</span>  <span class="token number">29.06</span>   <span class="token operator">-</span><span class="token number">0.05</span>    <span class="token operator">-</span><span class="token number">1.05</span>   <span class="token number">98.95</span>  <span class="token number">69.02</span>  <span class="token number">21.62</span>  <span class="token number">30.96</span>   <span class="token operator">-</span><span class="token number">51.60</span>
<span class="token number">45.0</span>  <span class="token number">64.0</span>    <span class="token number">0.018</span>   <span class="token number">64.0</span>    <span class="token number">0.009</span>  <span class="token number">29.71</span>   <span class="token operator">-</span><span class="token number">0.04</span>    <span class="token operator">-</span><span class="token number">1.09</span>   <span class="token number">98.91</span>  <span class="token number">68.42</span>  <span class="token number">22.14</span>  <span class="token number">31.57</span>   <span class="token operator">-</span><span class="token number">51.43</span>
<span class="token number">46.0</span>  <span class="token number">64.0</span>    <span class="token number">0.040</span>   <span class="token number">64.0</span>    <span class="token number">0.022</span>  <span class="token number">30.33</span>   <span class="token operator">-</span><span class="token number">0.01</span>    <span class="token operator">-</span><span class="token number">1.09</span>   <span class="token number">98.91</span>  <span class="token number">67.88</span>  <span class="token number">22.67</span>  <span class="token number">32.11</span>   <span class="token operator">-</span><span class="token number">51.32</span> 
<span class="token number">47.0</span>  <span class="token number">64.0</span>    <span class="token number">0.066</span>   <span class="token number">64.0</span>    <span class="token number">0.026</span>  <span class="token number">30.93</span>   <span class="token operator">-</span><span class="token number">0.02</span>    <span class="token operator">-</span><span class="token number">1.11</span>   <span class="token number">98.89</span>  <span class="token number">67.31</span>  <span class="token number">23.19</span>  <span class="token number">32.68</span>   <span class="token operator">-</span><span class="token number">51.16</span>
<span class="token number">48.0</span>  <span class="token number">64.0</span>    <span class="token number">0.107</span>   <span class="token number">64.0</span>    <span class="token number">0.041</span>  <span class="token number">31.49</span>   <span class="token operator">-</span><span class="token number">0.02</span>    <span class="token operator">-</span><span class="token number">1.13</span>   <span class="token number">98.87</span>  <span class="token number">66.79</span>  <span class="token number">23.68</span>  <span class="token number">33.20</span>   <span class="token operator">-</span><span class="token number">51.03</span>
<span class="token number">49.0</span>  <span class="token number">64.0</span>    <span class="token number">0.165</span>   <span class="token number">64.0</span>    <span class="token number">0.058</span>  <span class="token number">32.01</span>   <span class="token operator">-</span><span class="token number">0.03</span>    <span class="token operator">-</span><span class="token number">1.15</span>   <span class="token number">98.85</span>  <span class="token number">66.21</span>  <span class="token number">24.20</span>  <span class="token number">33.77</span>   <span class="token operator">-</span><span class="token number">50.86</span>
</code></pre></div><p>Kolumny:</p><ul><li><strong>roll</strong>: Numer losowania od poczÄ…tku</li><li><strong>betr</strong>: Maksymalna stawka od poczÄ…tku (<code>maxr</code>), i jak czÄ™sto siÄ™ pojawiÅ‚a (<code>%</code>)</li><li><strong>bet</strong> Maksymalna stawka na dane losowanie (<code>max</code>), i jak czÄ™sto siÄ™ pojawiÅ‚a w danym losowaniu(<code>%</code>)</li><li><strong>bancrupt</strong>: Procent losowaÅ„ w ktÃ³rych stawka jest wyÅ¼sza niÅ¼sza posiadana kwota</li><li><strong>profit</strong>: Åšredni wynik losowania.</li><li><strong>profitr</strong>: Åšrednia nadwyÅ¼ka od poczÄ…tkowej kwoty (<code>start_cash</code>)</li><li><strong>cash&gt;</strong>:  Kwota posiadana na dane losowanie</li><li><strong>win</strong>: Åšrednia nadwyÅ¼szka od kwot ktÃ³re sÄ… powyÅ¼ej poczÄ…tkowej puli i ich udziaÅ‚. (  <code>%</code>)</li><li><strong>loss</strong>: Åšrednia strata od kwot ktÃ³re sÄ… poniÅ¼ej poczÄ…tkowej puli i ich udziaÅ‚. (<code>%</code>)</li></ul><p>WywnioskowaÄ‡ moÅ¼na jedno, Å¼e zwykÅ‚e podwajanie kwoty nie pomaga i na kaÅ¼dÄ… wygranÄ… zdarzajÄ… siÄ™ przegrane ktÃ³re umniejszajÄ… wynik. Dodatkowo Å›rednio po 50 losowaniach <code>32%</code> wszystkich uruchomieÅ„ zostajÄ… z pieniÄ™dzmy mniejszymi niÅ¼ wymagany zakÅ‚ad a wiÄ™c z niemoÅ¼liwoÅ›ciÄ… grania danej.</p><p>Jest to oczywiÅ›cie bardzo prosty algorytm ktÃ³ry w zaÅ‚oÅ¼eniach wydaje siÄ™ Å¼e powinien przynosic zysk. PrzecieÅ¼ za kaÅ¼dym razem podwajamy kwotÄ™. MoÅ¼e mamy za maÅ‚Ä… kwotÄ™ poczÄ…tkowÄ…. I tutaj niestety teÅ¼ wszystkich zmartwie. Symulacja przy kwocie poczÄ…tkowej: <code>cash = 100000</code> wyglÄ…da nastÄ™pujÄ…co:</p><div class="language-R extra-class"><pre class="language-r"><code>max_bet<span class="token operator">:</span> <span class="token number">32768.0</span>  <span class="token punctuation">(</span><span class="token number">0.062</span>%<span class="token punctuation">)</span>
profitr<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">5.96</span>
bancrupt<span class="token operator">:</span> <span class="token number">0.03</span>%
cash<span class="token operator">:</span> <span class="token number">99994.04</span>
cash win<span class="token operator">:</span> <span class="token number">23.25</span>    <span class="token punctuation">(</span><span class="token number">96.62</span>%<span class="token punctuation">)</span>
cash loss<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">850.61</span>  <span class="token punctuation">(</span><span class="token number">3.34</span>%<span class="token punctuation">)</span>
</code></pre></div><p><img src="/assets/img/1533989147509.85cd1d15.png" alt="1533989147509"></p><p>Tak wiÄ™c przy kwocie przykÅ‚adowo: <code>100,000$</code>, i stawianiu na poczÄ…tku <code>1$</code> Å›rednio tracimy <code>5.96$</code> po <code>50</code> rzutach. Wprawdzie liczba bankrutÃ³w siÄ™ zmniejszyÅ‚a, ale i tak istniejÄ… zakÅ‚ady ktÃ³re przekraczajÄ… podanÄ… kwotÄ™. Wynik to z prawdopodbieÅ„stwa. JeÅ›li przegranie 15 razy pod rzÄ…d przy prawdopobieÅ„stwie <code>0.5</code> (tutaj jest jeszcze wiÄ™ksze bo wygrana w wariancie <code>2.0</code> wynosi <code>0.475</code>) wynosi <code>2^15 = 32768</code> to na te 32768 przypadkÃ³w taka systuacja powinna siÄ™ pojawiÄ‡ co najmniej raz. Przegrana w takim wypadku przewaÅ¼ajÄ… nad moÅ¼liwÄ… wygranÄ… i dlatego kasyna wygrywajÄ….  W przypadku innych wariantÃ³w czy zwiÄ™kszaniu liczby kwot wykresy wyglÄ…dajÄ… niestety bardzo podobnie. Z tak prostej strategii prÄ™dzej czy pÃ³Å¼niej przegramy.</p><p>MoÅ¼emy wymyÅ›leÄ‡ innÄ… strategiÄ™ np: gramy podwajÄ…jÄ…c kwotÄ™ dopÃ³ki nie uzbieramy okreÅ›lonej kwoty np: <code>10$</code>.</p><h3 id="strategia-dla-zysku"><a href="#strategia-dla-zysku" aria-hidden="true" class="header-anchor">#</a> Strategia dla zysku</h3><p>W tym wypadku moÅ¼emy zamiast ustawiÄ‡ staÅ‚Ä… liczbÄ™ gry, ustawiamy <code>profit=10</code> czyli zysk jaki chcemy uzyskaÄ‡. Jedyne co zwracamy to w ktÃ³rym kroku przerwaliÅ›my grÄ™, jaka byÅ‚a maksymalna stawka, i czy zbankrutowaliÅ›my. W przypadku wygrania powinniÅ›my mieÄ‡ <code>cash=cash + profit</code>, ale w przypadku przegranej bÄ™dzie to kwota ktÃ³ra nam pozostaÅ‚a.</p><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">cont_run</span><span class="token punctuation">(</span>start_bet <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> cash <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> game_count <span class="token operator">=</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">,</span> profit <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> on_loss <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> on_win <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> simulation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    bet <span class="token operator">=</span> start_bet    
    max_bet <span class="token operator">=</span> start_bet
    end_cash <span class="token operator">=</span> cash <span class="token operator">+</span> profit

    roll <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        roll <span class="token operator">+=</span> <span class="token number">1</span>
        cash_before <span class="token operator">=</span> cash
        <span class="token keyword">if</span><span class="token punctuation">(</span>cash_before <span class="token operator">&lt;</span> bet<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># roll, cash, max_bet, bancrupt</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span>roll<span class="token punctuation">,</span> cash<span class="token punctuation">,</span> max_bet<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">]</span>
        result <span class="token operator">=</span> play<span class="token punctuation">(</span>bet<span class="token punctuation">,</span> game_count<span class="token punctuation">)</span>
        cash <span class="token operator">+=</span> result
       
        <span class="token keyword">if</span><span class="token punctuation">(</span>cash<span class="token operator">&gt;=</span>end_cash<span class="token punctuation">)</span><span class="token punctuation">:</span>
           <span class="token keyword">return</span> <span class="token punctuation">[</span>roll<span class="token punctuation">,</span> cash<span class="token punctuation">,</span> max_bet<span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">]</span>
        
        bet <span class="token operator">=</span> auto_method<span class="token punctuation">(</span>start_bet<span class="token punctuation">,</span>bet<span class="token punctuation">,</span>result<span class="token punctuation">,</span>on_loss<span class="token punctuation">,</span>on_win<span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>bet<span class="token operator">&gt;</span>max_bet<span class="token punctuation">)</span><span class="token punctuation">:</span>
            max_bet <span class="token operator">=</span> bet

<span class="token keyword">def</span> <span class="token function">cont_simulation</span><span class="token punctuation">(</span>runs <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span>
                    start_bet <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> cash <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> 
                    game_count <span class="token operator">=</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">,</span> profit <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
                    on_loss <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> on_win <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
     df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">[</span>
            cont_run<span class="token punctuation">(</span>start_bet<span class="token punctuation">,</span>cash<span class="token punctuation">,</span>game_count<span class="token punctuation">,</span>profit<span class="token punctuation">,</span>on_loss<span class="token punctuation">,</span>on_win<span class="token punctuation">,</span>simulation <span class="token operator">=</span> i<span class="token punctuation">)</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>runs<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
            columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;rolls&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cash&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;max_bet&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bancrupt&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  dtype <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">)</span>
     <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
     
     statistics <span class="token operator">=</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;rolls&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>agg<span class="token punctuation">(</span><span class="token punctuation">{</span>
             <span class="token string">'max_bet'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                   
                     <span class="token string">'mean'</span><span class="token punctuation">:</span> <span class="token string">'mean'</span><span class="token punctuation">,</span>
                     <span class="token string">'max'</span><span class="token punctuation">:</span> <span class="token string">'max'</span><span class="token punctuation">,</span>
                     <span class="token string">'%'</span><span class="token punctuation">:</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span>x<span class="token operator">==</span>np<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span>runs <span class="token operator">*</span> <span class="token number">100</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'cash'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'mean'</span><span class="token punctuation">:</span> <span class="token string">'mean'</span><span class="token punctuation">,</span> <span class="token string">'cnt'</span><span class="token punctuation">:</span> <span class="token string">'count'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'bancrupt'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">''</span><span class="token punctuation">:</span> <span class="token string">'mean'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Mean profit:'</span><span class="token punctuation">,</span> statistics<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'cash'</span><span class="token punctuation">,</span><span class="token string">'mean'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> cash<span class="token punctuation">)</span>
     <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">&quot;% number of wins: {((1-statistics[('bancrupt','')].mean()) * 100):.2f}%&quot;</span><span class="token punctuation">)</span>
     plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">&quot;rolls&quot;</span><span class="token punctuation">)</span>
     plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">&quot;cash&quot;</span><span class="token punctuation">)</span>
     plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>statistics<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'cash'</span><span class="token punctuation">,</span><span class="token string">'mean'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">&quot;roll&quot;</span><span class="token punctuation">)</span>
     <span class="token keyword">return</span> statistics
</code></pre></div><p>Co pokazaÅ‚y symulacje. Å»e w przypadku <code>100$</code> i chÄ™ci zyskania <code>10$</code> Å›redni zysk wacha siÄ™ od <code>-8$</code> do <code>-10$</code></p><div class="language-python extra-class"><pre class="language-python"><code>cont_simulation<span class="token punctuation">(</span>runs <span class="token operator">=</span> <span class="token number">10000000</span><span class="token punctuation">,</span> game_count <span class="token operator">=</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">,</span>cash <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> start_bet <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> on_loss <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> profit <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-R extra-class"><pre class="language-r"><code>Mean profit<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10.163005419483099</span>
<span class="token string">'%'</span> number of wins<span class="token operator">:</span> <span class="token number">70.23</span>%
</code></pre></div><p><img src="/assets/img/1533992356877.0772ceb5.png" alt="1533992356877"></p><p>Co ciekawe im mniejsza iloÅ›Ä‡ rzutÃ³w tym wiÄ™ksza przegrana ale wynika to z poczÄ…tkowych licznych przegranych ktÃ³re zwiÄ™kszyÅ‚y stawka do wartoÅ›ci powyÅ¼ej poczÄ…tkowej kwoty. ZwiÄ™kszanie poczÄ…tkowej kwoty niewiele daje i powoduje Å¼e nawet majÄ…c milion dolarÃ³w to Å›rednio i tak tracimy.</p><div class="language-R extra-class"><pre class="language-r"><code>cont_simulation<span class="token punctuation">(</span>runs <span class="token operator">=</span> <span class="token number">10000000</span><span class="token punctuation">,</span> game_count <span class="token operator">=</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">,</span>cash <span class="token operator">=</span> <span class="token number">1000000</span><span class="token punctuation">,</span> start_bet <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> on_loss <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> profit <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-R extra-class"><pre class="language-r"><code>Mean profit<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">402.102759478963</span>
<span class="token string">'%'</span> number of wins<span class="token operator">:</span> <span class="token number">99.92</span>%
</code></pre></div><p><img src="/assets/img/1533993326468.0c1c6524.png" alt="1533993326468"></p><p>Wprawdzie procent szansy na wygranÄ… jest wiÄ™kszy, wynosi aÅ¼ <code>99.92%</code>, ale zdarzajÄ… siÄ™ sytuacje w ktÃ³rych przegrywasz i koniec koÅ„cÃ³w kwota przegrana jest wiÄ™ksza niÅ¼ tyle ile wygraÅ‚eÅ› do tej pory.</p><h3 id="strategia-tablicowa"><a href="#strategia-tablicowa" aria-hidden="true" class="header-anchor">#</a> Strategia tablicowa</h3><p>To byÅ‚a bardzo prosta strategia podwajania kwoty dopÃ³ki siÄ™ nie wygra albo przegra z kretesem ğŸ˜„. MoÅ¼e po kaÅ¼dym razie moÅ¼emy zwiÄ™kszaÄ‡/zmniejszaÄ‡ kwotÄ™ w zaleÅ¼noÅ›ci od tego ktÃ³ra to jest przegrana z kolei co pozwoli w pewnym sensie zminimalizowaÄ‡ przegranÄ…. NazwaÅ‚em to strategiÄ… tablicowÄ…. I jedynÄ… zmianÄ… w stosunki do strategii dla zysku jest lista <code>on_loss/on_win</code> ktÃ³ra posiada dwie wartoÅ›ci, o ile zwiÄ™kszyÄ‡/zmniejszyÄ‡ wartoÅ›Ä‡ zakÅ‚adu i jakÄ… grÄ™ ustawiÄ‡.</p><p>W tym wypadku wystarczy skopiowaÄ‡ poprzednie funkcje i nieco je zmodyfikowaÄ‡ tak Å¼eby braÅ‚y przykÅ‚ad z <code>on_loss</code> i <code>on_run</code> jako tablicÄ™. JeÅ¼eli nie wskaÅ¼emy powrotu do wartoÅ›ci poczÄ…tkowej przez <code>-1</code> bÄ™dzie on graÅ‚ wedÅ‚ug ostatniego elementu.</p><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">table_run</span><span class="token punctuation">(</span>start_bet <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> cash <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> game_count <span class="token operator">=</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">,</span> 
              profit <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> 
              on_loss <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
              on_win <span class="token operator">=</span>  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;1.50&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> simulation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    bet <span class="token operator">=</span> start_bet    
    max_bet <span class="token operator">=</span> start_bet
    end_cash <span class="token operator">=</span> cash <span class="token operator">+</span> profit
    
    loss_cnt <span class="token operator">=</span> <span class="token number">0</span>
    win_cnt  <span class="token operator">=</span> <span class="token number">0</span>
    game_current <span class="token operator">=</span> game_count
    element <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    roll <span class="token operator">=</span> <span class="token number">0</span> 
    
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        roll <span class="token operator">+=</span> <span class="token number">1</span>
        cash_before <span class="token operator">=</span> cash
        <span class="token keyword">if</span><span class="token punctuation">(</span>cash_before <span class="token operator">&lt;</span> bet<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># roll, cash, max_bet, bancrupt</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span>roll<span class="token punctuation">,</span> cash<span class="token punctuation">,</span> max_bet<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">]</span>
        

        result <span class="token operator">=</span> play<span class="token punctuation">(</span>bet<span class="token punctuation">,</span> game_current<span class="token punctuation">)</span>
        cash <span class="token operator">+=</span> result
       
        <span class="token keyword">if</span><span class="token punctuation">(</span>cash<span class="token operator">&gt;=</span>end_cash<span class="token punctuation">)</span><span class="token punctuation">:</span>
           <span class="token keyword">return</span> <span class="token punctuation">[</span>roll<span class="token punctuation">,</span> cash<span class="token punctuation">,</span> max_bet<span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">]</span>
       

        <span class="token keyword">if</span> result <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
            element <span class="token operator">=</span> on_loss<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>on_loss<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> loss_cnt <span class="token keyword">else</span> on_loss<span class="token punctuation">[</span>loss_cnt<span class="token punctuation">]</span>
            win_cnt <span class="token operator">=</span> <span class="token number">0</span>
            loss_cnt <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            element <span class="token operator">=</span> on_win<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>on_win<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> win_cnt <span class="token keyword">else</span> on_win<span class="token punctuation">[</span>win_cnt<span class="token punctuation">]</span>
            loss_cnt <span class="token operator">=</span> <span class="token number">0</span>
            win_cnt <span class="token operator">+=</span> <span class="token number">1</span>
                    
        bet  <span class="token operator">=</span> start_bet <span class="token keyword">if</span> element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">else</span> bet <span class="token operator">+</span> bet <span class="token operator">*</span> element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        game_current <span class="token operator">=</span> element<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>         
        
        <span class="token keyword">if</span> element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">:</span> <span class="token comment">#return to start</span>
            loss_cnt <span class="token operator">=</span> <span class="token number">0</span>
            win_cnt <span class="token operator">=</span> <span class="token number">0</span>
        
        <span class="token comment">#print(f&quot;{roll:5.0f}: {cash_before:&gt;8}$  |game: {game_current} bet: {bet:4.2f}| loss:{loss_cnt:2.0f} win: {win_cnt:2.0f}  result: {result:&gt;4}  {cash:&gt;8}$  e: {element}&quot;)</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>bet<span class="token operator">&gt;</span>max_bet<span class="token punctuation">)</span><span class="token punctuation">:</span>
            max_bet <span class="token operator">=</span> bet


<span class="token keyword">def</span> <span class="token function">table_simulation</span><span class="token punctuation">(</span>runs <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span>
                    start_bet <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> cash <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> 
                    game_count <span class="token operator">=</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">,</span> profit <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
                    on_loss <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                    on_win <span class="token operator">=</span>  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
     df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">[</span>
            table_run<span class="token punctuation">(</span>start_bet<span class="token punctuation">,</span>cash<span class="token punctuation">,</span>game_count<span class="token punctuation">,</span>profit<span class="token punctuation">,</span>on_loss<span class="token punctuation">,</span>on_win<span class="token punctuation">,</span>simulation <span class="token operator">=</span> i<span class="token punctuation">)</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>runs<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
            columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;rolls&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cash&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;max_bet&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bancrupt&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  dtype <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">)</span>
     <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
     
     statistics <span class="token operator">=</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;rolls&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>agg<span class="token punctuation">(</span><span class="token punctuation">{</span>
             <span class="token string">'max_bet'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                   
                     <span class="token string">'mean'</span><span class="token punctuation">:</span> <span class="token string">'mean'</span><span class="token punctuation">,</span>
                     <span class="token string">'max'</span><span class="token punctuation">:</span> <span class="token string">'max'</span><span class="token punctuation">,</span>
                     <span class="token string">'%'</span><span class="token punctuation">:</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span>x<span class="token operator">==</span>np<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span>runs <span class="token operator">*</span> <span class="token number">100</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'cash'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'mean'</span><span class="token punctuation">:</span> <span class="token string">'mean'</span><span class="token punctuation">,</span> <span class="token string">'cnt'</span><span class="token punctuation">:</span> <span class="token string">'count'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'bancrupt'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">''</span><span class="token punctuation">:</span> <span class="token string">'mean'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Mean profit:'</span><span class="token punctuation">,</span> statistics<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'cash'</span><span class="token punctuation">,</span><span class="token string">'mean'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> cash<span class="token punctuation">)</span>
     <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">&quot;% number of wins: {((1-statistics[('bancrupt','')].mean()) * 100):.2f}%&quot;</span><span class="token punctuation">)</span>
     plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">&quot;rolls&quot;</span><span class="token punctuation">)</span>
     plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">&quot;cash&quot;</span><span class="token punctuation">)</span>
     plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>statistics<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'cash'</span><span class="token punctuation">,</span><span class="token string">'mean'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">&quot;roll&quot;</span><span class="token punctuation">)</span>
     <span class="token keyword">return</span> statistics
</code></pre></div><p>WywoÅ‚anie funkcji z takimi parametrami to taka naprawde poprzednia omawiana prosta strategia podwajania wartoÅ›ci za kaÅ¼dym razem gdy przegramy.</p><div class="language-python extra-class"><pre class="language-python"><code>table_run<span class="token punctuation">(</span>start_bet <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> cash <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> game_count <span class="token operator">=</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">,</span> 
              profit <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> 
              on_loss <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
              on_win <span class="token operator">=</span>  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> simulation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code>  <span class="token number">100</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">1.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">0</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>  <span class="token number">1.0</span>     <span class="token number">101.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">101.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">1.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">0</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>  <span class="token number">1.0</span>     <span class="token number">102.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">102.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">1.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">0</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>  <span class="token number">1.0</span>     <span class="token number">103.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">103.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">2.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">1</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>   <span class="token operator">-</span><span class="token number">1</span>     <span class="token number">102.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">102.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">1.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">0</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>  <span class="token number">2.0</span>     <span class="token number">104.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">104.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">2.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">1</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>   <span class="token operator">-</span><span class="token number">1</span>     <span class="token number">103.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">103.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">1.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">0</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>  <span class="token number">2.0</span>     <span class="token number">105.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">105.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">1.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">0</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>  <span class="token number">1.0</span>     <span class="token number">106.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">106.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">1.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">0</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>  <span class="token number">1.0</span>     <span class="token number">107.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">107.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">1.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">0</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>  <span class="token number">1.0</span>     <span class="token number">108.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">108.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">2.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">1</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>   <span class="token operator">-</span><span class="token number">1</span>     <span class="token number">107.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">107.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">4.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">2</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>   <span class="token operator">-</span><span class="token number">2</span>     <span class="token number">105.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">105.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">1.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">0</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>  <span class="token number">4.0</span>     <span class="token number">109.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">109.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">2.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">1</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>   <span class="token operator">-</span><span class="token number">1</span>     <span class="token number">108.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">108.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">4.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">2</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>   <span class="token operator">-</span><span class="token number">2</span>     <span class="token number">106.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
<span class="token number">106.0</span>$  <span class="token operator">|</span>game<span class="token punctuation">:</span> <span class="token number">2.00</span> bet<span class="token punctuation">:</span> <span class="token number">8.00</span><span class="token operator">|</span> loss<span class="token punctuation">:</span> <span class="token number">3</span> win<span class="token punctuation">:</span>  <span class="token number">0</span>  result<span class="token punctuation">:</span>   <span class="token operator">-</span><span class="token number">4</span>     <span class="token number">102.0</span>$  e<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2.00'</span><span class="token punctuation">]</span>
                            
Out<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">110.0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">]</span>
</code></pre></div><p>SprawdÅ¼my teraz kilka strategii, powiedzmy Å¼e zwiekszamy swoje prawdopodobieÅ„stwo za kaÅ¼dym razem gdy przegramy.</p><div class="language-python extra-class"><pre class="language-python"><code>
table_simulation<span class="token punctuation">(</span>runs<span class="token operator">=</span><span class="token number">10000</span><span class="token punctuation">,</span>
              start_bet <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> cash <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">,</span> game_count <span class="token operator">=</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">,</span> 
              profit <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> 
              on_loss <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0.03</span><span class="token punctuation">,</span> <span class="token string">&quot;1.98&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3.1</span><span class="token punctuation">,</span><span class="token string">&quot;1.50&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3.7</span><span class="token punctuation">,</span> <span class="token string">&quot;1.32&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">12.17</span><span class="token punctuation">,</span> <span class="token string">&quot;1.10&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&quot;1.10&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;2.00&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> 
              on_win <span class="token operator">=</span>  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;2.00&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Warto wspomnieÄ‡ Å¼e pod koniec wymagana jest kwota <code>2875.39</code> po <code>5</code>  przegranie.</p><table><thead><tr><th>przegrana</th><th>gra</th><th>szansa wygranek</th><th>mnoÅ¼nik</th><th>stawka</th><th>do wygrania</th><th>Å‚Ä…czna stawka</th><th>rÃ³Å¼nica</th></tr></thead><tbody><tr><td>0</td><td>2.00</td><td>49.50%</td><td></td><td>1.00</td><td>2.00</td><td>-1.00</td><td>1.00</td></tr><tr><td>1</td><td>1.98</td><td>50.00%</td><td>0.03</td><td>1.03</td><td>2.04</td><td>-2.03</td><td>0.01</td></tr><tr><td>2</td><td>1.50</td><td>66.00%</td><td>3.10</td><td>4.22</td><td>6.33</td><td>-6.25</td><td>0.08</td></tr><tr><td>4</td><td>1.32</td><td>75.00%</td><td>3.70</td><td>19.85</td><td>26.20</td><td>-26.10</td><td>0.10</td></tr><tr><td>5</td><td>1.10</td><td>90.00%</td><td>12.17</td><td>261.40</td><td>287.54</td><td>-287.50</td><td>0.04</td></tr><tr><td>6</td><td>1.10</td><td>90.00%</td><td>10.00</td><td>2875.39</td><td>3162.93</td><td>-3162.89</td><td>0.04</td></tr></tbody></table><p>Aby nie przegraÄ‡ kwoty rosnÄ… bardzo szybko za kaÅ¼dym razem kiedy przegramy. GdybyÅ›my od poczÄ…tku grali majÄ…c szanse <code>1/10</code> i zwiÄ™kszajÄ…c 10krotnie to przy szÃ³stym podejÅ›ciu potrzebowalibyÅ›my kwoty rzÄ™du <code>10^6</code>, a to oznacza pewnÄ… przegranÄ….</p><p>Symulacja jednak pokazuje Å¼e niewiele to pomogÅ‚o, a spowodowaÅ‚o tylko przedÅ‚uÅ¼enie iloÅ›ci rzutÃ³w do kilkudziesiÄ™ciu tysiÄ™cy.</p><div class="language-R extra-class"><pre class="language-r"><code>Mean profit<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">3815.467734336913</span>
<span class="token string">'%'</span> number of wins<span class="token operator">:</span> <span class="token number">53.09</span>%
</code></pre></div><p><img src="/assets/img/1534006081762.b40394de.png" alt="1534006081762"></p><p>OczywiÅ›cie moÅ¼na sobie testowaÄ‡ rÃ³Å¼ne strategie, bo nie jestem w stanie wymyÅ›leÄ‡ i zasymulowaÄ‡ wszystkich moÅ¼liwoÅ›ci  ğŸ˜„ , ale moÅ¼e ktoÅ› odkryje jakÄ…Å› kombinacje przy ktÃ³rej zysk jest wiÄ™kszy od 0. Nie warto testowaÄ‡ go na mniejszÄ… iloÅ›Ä‡ niÅ¼ <code>100,000</code>. Dopiero od tych iloÅ›ci wyniki zdajÄ… siÄ™ dÄ…Å¼yÄ‡ do jednej wartoÅ›ci.</p><h3 id="labouchere-2"><a href="#labouchere-2" aria-hidden="true" class="header-anchor">#</a> Labouchere</h3><p>Na koniec system ktÃ³ry  jest bardzo popularnym systemem w zakÅ‚adach typu ruletka. OprÃ³cz niego istnieje jeszcze pewnie kilkadziesiÄ…t innych na ktÃ³rych opis nie starczyÅ‚oby miesca. System ten wywodzi siÄ™ od francuskiego filozofa i polega ona na zapisie naszej docelowej kwoty ktÃ³rÄ… chcemy wygraÄ‡ w postaci sumy liczb. PowiedÅ¼my Å¼e chcemy wygraÄ‡ <code>15$</code> , wiÄ™c podzieliliÅ›my naszÄ… wygrane na 5 liczb <code>1,2,3,4,5</code>, ustawienie liczb i kolejnoÅ›Ä‡ dostosowujemy sobie sami.</p><ol><li>Na poczÄ…tku stawiamy sumÄ™ skrajnych do siebe cyfr (w tym przypadku <code>1+5=6</code>).</li><li>W przypadku wygranej kasujemy obydwie liczby z listy. (zostaje nam <code>2,3,4</code>)</li><li>W przypadku przegranej dodajemy do listy kwotÄ™ ktÃ³rÄ… postawiliÅ›my na sam koniec listy (<code>1,2,3,4,5,6</code>)</li><li>Powtarzamy punkty od <code>1</code> do <code>3</code>aÅ¼ nie wyczyÅ›cimy caÅ‚ej listy.</li></ol><p>Wydaje siÄ™ proste, ale ma oczywiÅ›cie haczyk jeÅ›li bÄ™dziemy ciÄ…gle przegrywaÄ‡ kwoty dopisywane do listy mogÄ… siÄ™ niebezpiecznie powiÄ™kszyÄ‡.</p><p>W Python caÅ‚y algorytm przedstawia siÄ™ nastÄ™pujÄ…co:</p><p>W tym wypadku wystarczÄ… tylko dwa parametry:</p><ul><li><strong>cash</strong> - kwota poczÄ…tkowa</li><li><strong>system</strong> - wybrany system</li></ul><p>A to co nam zwraca to tak jak poprzednio:</p><ul><li><strong>roll</strong>  - za ktÃ³rym razem udaÅ‚o siÄ™ wygraÄ‡ lub przegraÄ‡ poniÅ¼ej wartoÅ›ci wymaganej</li><li><strong>cash</strong> - koÅ„cowa kwota, jeÅ›li wygrywamy powinna wynieÅ›Ä‡ wiÄ™cej o sumÄ™ poprzedniego zakÅ‚adu</li><li><strong>max_bet</strong> - maksymalny postawiona stawka</li><li>system - lista koÅ„cowa.</li></ul><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">labouchere_run</span><span class="token punctuation">(</span>cash <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> system <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    game_count <span class="token operator">=</span> <span class="token string">&quot;2.00&quot;</span>
    
    roll <span class="token operator">=</span> <span class="token number">0</span>
    max_bet <span class="token operator">=</span> <span class="token number">0</span>
    system <span class="token operator">=</span> system<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">#print(f&quot;{roll:5.0f}: list: {system}&quot;)</span>
    
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        roll <span class="token operator">+=</span> <span class="token number">1</span>
        cash_before <span class="token operator">=</span> cash
        <span class="token comment"># only if there is only two elements in the list</span>
        bet <span class="token operator">=</span> system<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">(</span>system<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>system<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">1</span>  <span class="token keyword">else</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> bet <span class="token operator">&gt;</span> max_bet<span class="token punctuation">:</span>
            max_bet <span class="token operator">=</span> bet

        <span class="token keyword">if</span> bet<span class="token operator">&gt;</span>cash<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span>roll<span class="token punctuation">,</span> cash<span class="token punctuation">,</span> max_bet<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> system<span class="token punctuation">]</span>
        

        
        result <span class="token operator">=</span> play<span class="token punctuation">(</span>bet<span class="token punctuation">,</span> game_count<span class="token punctuation">)</span>
        cash <span class="token operator">+=</span> result
        
        <span class="token keyword">if</span> result<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>system<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                system<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
            system<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            system<span class="token punctuation">.</span>append<span class="token punctuation">(</span>bet<span class="token punctuation">)</span>
        
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>system<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span>roll<span class="token punctuation">,</span> cash<span class="token punctuation">,</span> max_bet<span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
            
        <span class="token comment">#print(f&quot;{roll:5.0f}: {cash_before:&gt;8}$  |bet: {bet:4.2f}| result: {result:&gt;4}  {cash:&gt;8}$  list: {system}&quot;)</span>

</code></pre></div><p>No i w tym wypadku uruchomimy dla prostej sytuacji.</p><div class="language-python extra-class"><pre class="language-python"><code>labouchere_run<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span>system <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  
    
    <span class="token number">1</span><span class="token punctuation">:</span>      <span class="token number">100</span>$  <span class="token operator">|</span>bet<span class="token punctuation">:</span>  <span class="token number">6.00</span><span class="token operator">|</span>  result<span class="token punctuation">:</span>    <span class="token operator">-</span><span class="token number">6</span>         <span class="token number">94</span>$  <span class="token builtin">list</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
    <span class="token number">2</span><span class="token punctuation">:</span>       <span class="token number">94</span>$  <span class="token operator">|</span>bet<span class="token punctuation">:</span>  <span class="token number">7.00</span><span class="token operator">|</span>  result<span class="token punctuation">:</span>   <span class="token number">7.0</span>      <span class="token number">101.0</span>$  <span class="token builtin">list</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
    <span class="token number">3</span><span class="token punctuation">:</span>    <span class="token number">101.0</span>$  <span class="token operator">|</span>bet<span class="token punctuation">:</span>  <span class="token number">7.00</span><span class="token operator">|</span>  result<span class="token punctuation">:</span>    <span class="token operator">-</span><span class="token number">7</span>       <span class="token number">94.0</span>$  <span class="token builtin">list</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>
    <span class="token number">4</span><span class="token punctuation">:</span>     <span class="token number">94.0</span>$  <span class="token operator">|</span>bet<span class="token punctuation">:</span>  <span class="token number">9.00</span><span class="token operator">|</span>  result<span class="token punctuation">:</span>   <span class="token number">9.0</span>      <span class="token number">103.0</span>$  <span class="token builtin">list</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
    <span class="token number">5</span><span class="token punctuation">:</span>    <span class="token number">103.0</span>$  <span class="token operator">|</span>bet<span class="token punctuation">:</span>  <span class="token number">8.00</span><span class="token operator">|</span>  result<span class="token punctuation">:</span>    <span class="token operator">-</span><span class="token number">8</span>       <span class="token number">95.0</span>$  <span class="token builtin">list</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>
    <span class="token number">6</span><span class="token punctuation">:</span>     <span class="token number">95.0</span>$  <span class="token operator">|</span>bet<span class="token punctuation">:</span> <span class="token number">11.00</span><span class="token operator">|</span>  result<span class="token punctuation">:</span>   <span class="token operator">-</span><span class="token number">11</span>       <span class="token number">84.0</span>$  <span class="token builtin">list</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span>
    <span class="token number">7</span><span class="token punctuation">:</span>     <span class="token number">84.0</span>$  <span class="token operator">|</span>bet<span class="token punctuation">:</span> <span class="token number">14.00</span><span class="token operator">|</span>  result<span class="token punctuation">:</span>  <span class="token number">14.0</span>       <span class="token number">98.0</span>$  <span class="token builtin">list</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>
    <span class="token number">8</span><span class="token punctuation">:</span>     <span class="token number">98.0</span>$  <span class="token operator">|</span>bet<span class="token punctuation">:</span> <span class="token number">12.00</span><span class="token operator">|</span>  result<span class="token punctuation">:</span>   <span class="token operator">-</span><span class="token number">12</span>       <span class="token number">86.0</span>$  <span class="token builtin">list</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span>
    <span class="token number">9</span><span class="token punctuation">:</span>     <span class="token number">86.0</span>$  <span class="token operator">|</span>bet<span class="token punctuation">:</span> <span class="token number">16.00</span><span class="token operator">|</span>  result<span class="token punctuation">:</span>  <span class="token number">16.0</span>      <span class="token number">102.0</span>$  <span class="token builtin">list</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>

Out<span class="token punctuation">[</span><span class="token number">1210</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">115.0</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre></div><p>Wow :happy:, wygraliÅ›my. NajwiÄ™kszy zakÅ‚ad jaki byÅ‚ to <code>16.0</code>, a wystarczyÅ‚o do tego <code>10</code> rzutÃ³w. Czas przyjrzeÄ‡ siÄ™ dla wiÄ™kszej iloÅ›ci w postaci symulacji.</p><p><strong>Symulacja:</strong></p><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">labouchere_simulation</span><span class="token punctuation">(</span>runs <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span>
                    cash <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> system <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
     labouchere_result <span class="token operator">=</span> <span class="token punctuation">[</span>labouchere_run<span class="token punctuation">(</span>cash<span class="token punctuation">,</span>system<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>runs<span class="token punctuation">)</span><span class="token punctuation">]</span>
     df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>labouchere_result<span class="token punctuation">,</span>
            columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;rolls&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cash&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;max_bet&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bancrupt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;list&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  dtype <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">)</span>
     <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

     
     statistics <span class="token operator">=</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;rolls&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>agg<span class="token punctuation">(</span><span class="token punctuation">{</span>
             <span class="token string">'max_bet'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                   
                     <span class="token string">'mean'</span><span class="token punctuation">:</span> <span class="token string">'mean'</span><span class="token punctuation">,</span>
                     <span class="token string">'max'</span><span class="token punctuation">:</span> <span class="token string">'max'</span><span class="token punctuation">,</span>
                     <span class="token string">'%'</span><span class="token punctuation">:</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span>x<span class="token operator">==</span>np<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span>runs <span class="token operator">*</span> <span class="token number">100</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'cash'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'mean'</span><span class="token punctuation">:</span> <span class="token string">'mean'</span><span class="token punctuation">,</span> <span class="token string">'cnt'</span><span class="token punctuation">:</span> <span class="token string">'count'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'bancrupt'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">''</span><span class="token punctuation">:</span> <span class="token string">'mean'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Mean profit:'</span><span class="token punctuation">,</span> statistics<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'cash'</span><span class="token punctuation">,</span><span class="token string">'mean'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> cash<span class="token punctuation">)</span>
     <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">&quot;% number of wins: {((1-statistics[('bancrupt','')].mean()) * 100):.2f}%&quot;</span><span class="token punctuation">)</span>
     
     max_bet_index <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'max_bet'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>idxmax<span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Max bet:'</span><span class="token punctuation">,</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>max_bet_index<span class="token punctuation">,</span><span class="token string">'max_bet'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">' with cash: '</span> <span class="token punctuation">,</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>max_bet_index<span class="token punctuation">,</span><span class="token string">'cash'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>   <span class="token string">' from list: '</span><span class="token punctuation">,</span>  df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>max_bet_index<span class="token punctuation">,</span><span class="token string">'list'</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
      
     plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">&quot;rolls&quot;</span><span class="token punctuation">)</span>
     plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">&quot;cash&quot;</span><span class="token punctuation">)</span>
     plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>statistics<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'cash'</span><span class="token punctuation">,</span><span class="token string">'mean'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">&quot;roll&quot;</span><span class="token punctuation">)</span>
     <span class="token keyword">return</span> statistics  
</code></pre></div><p>Z kwotÄ… rzÄ™du <code>100</code> uruchomienie kilka razy dla <code>100,000</code> uruchomieÅ„ daje podobny wynik wynoszÄ…cy:</p><div class="language-R extra-class"><pre class="language-r"><code>Mean profit<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">29.09197655642062</span>
<span class="token string">'%'</span> number of wins<span class="token operator">:</span> <span class="token number">52.72</span>%
Max bet<span class="token operator">:</span> <span class="token number">64.0</span>  with cash<span class="token operator">:</span>  <span class="token number">3.0</span>  from list<span class="token operator">:</span>  <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">]</span>
</code></pre></div><p><img src="/assets/img/1534065381767.e6df80f7.png" alt="1534065381767"></p><p>Åšrednio z takÄ… kwotÄ… nie przechodzimy powyÅ¼ej 40 rzutÃ³w, poniewaÅ¼ wtedy sumy do postawienia przekraczajÄ… kwotÄ™ <code>100</code> ktÃ³rÄ… mamy na poczÄ…tku. Warto sprawdziÄ‡ czy dla wiÄ™kszej kwoty, np: <code>100,000</code> mamy podobne wyniki.</p><p>WyÅ¼sza kwota pozwoliÅ‚a nam zwiÄ™kszyÄ‡ szanse na wygranÄ… do <code>70.30%</code>, ale w ostatecznym rozrachunku spowodowaÅ‚a teÅ¼ duÅ¼Ä… iloÅ›Ä‡ przegranych ktÃ³re na koÅ„cu pomniejszajÄ… twÃ³j zysk.</p><div class="language-R extra-class"><pre class="language-r"><code>Mean profit<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">25861.195673955735</span>
<span class="token string">'%'</span> number of wins<span class="token operator">:</span> <span class="token number">70.30</span>%
Max bet<span class="token operator">:</span> <span class="token number">55552.0</span>  with cash<span class="token operator">:</span>  <span class="token number">2799.0</span>  from list<span class="token operator">:</span>  <span class="token punctuation">[</span><span class="token number">13888</span><span class="token punctuation">,</span> <span class="token number">13888</span><span class="token punctuation">,</span> <span class="token number">27776</span><span class="token punctuation">,</span> <span class="token number">41664</span><span class="token punctuation">]</span>
</code></pre></div><p><img src="/assets/img/1534065656800.92ed51f2.png" alt="1534065656800"></p><p>Systemami moÅ¼na siÄ™ pobawiÄ‡, ale nie znalazÅ‚em takiego ktÃ³ry dla wiÄ™kszej iloÅ›ci symulacji powodowaÅ‚by wyrÃ³wnanie Å›redniego zysku.</p><h2 id="wnioski"><a href="#wnioski" aria-hidden="true" class="header-anchor">#</a> Wnioski</h2><p>Po tych wszystkich strategiach i symulacjach niestety nie udaÅ‚o mi siÄ™ znaleÅ›Ä‡ idealnego rozwiÄ…zania. Wprawdzie duÅ¼a iloÅ›Ä‡ gotÃ³wki (w stosunku 1 milion do 1) gwarantuje wiÄ™ksze szanse na wygrane (nawet 99%), ale jeÅ›li Å¼le siÄ™ trafi co w przypadku wiÄ™kszej iloÅ›ci symulacj siÄ™ zdarza powoduje przegranie caÅ‚ej kwoty.</p><p>MoÅ¼e siÄ™ wydawaÄ‡ Å¼e niemoÅ¼liwoÅ›ciÄ… jest przy 50% szansie na wygranÄ… przegraÄ‡ 6 do 12 razy pod rzÄ…d. NaleÅ¼y pamiÄ™taÄ‡ Å¼e losowanie nie pamiÄ™ta poprzednich wartoÅ›ci i zgodnie z prawem wielkich liczb dopiero przy duÅ¼ej liczbie losowaÅ„ caÅ‚oÅ›Ä‡ zbiega do jakieÅ› statystycznej Å›redniej. Dodatkowo moÅ¼na pomyÅ›leÄ‡ Å¼Ä™ skoro raz juÅ¼ przegraliÅ›my 6 razy pod rzÄ…d to drugi raz taka szansa siÄ™ nie zdarza i tutaj takÅ¼e okazuje siÄ™ system inaczej wyruwnÃ³je szanse. Jak widaÄ‡ z pierwszych symulacji na automacie 8 razy pod rzÄ…d przegrana zdarza siÄ™, a wykÅ‚adnicze powielanie kwoty tak aby wygraÄ‡ albo by nie mÃ³c przegraÄ‡ powoduje zwiÄ™kszenie wymaganych pieniÄ™dzy do sporych wartoÅ›ci.</p><p>Inne systemy jak Labouchere czy tablicowy ktÃ³ry miaÅ‚ pomniejszyÄ‡ trochÄ™ stawki za kaÅ¼dym razem gdy przegramy nie spowodowaÅ‚y niestety poprawy. NiektÃ³re systemy w duÅ¼ej perspektywie dajÄ… <code>70%</code> na wygranÄ… co wydaje siÄ™ Å¼Ä™ jeÅ›li wiÄ™cej niÅ¼ poÅ‚owa to dobrze ğŸ˜ƒ, ale nie przewidujÄ… Å¼e moÅ¼e to oznaczaÄ‡ takÅ¼e duÅ¼e przegranÄ… jeÅ›li akurat nie mieliÅ›my szczÄ™Å›cia.</p><p>W odpowiedzi na odwiecznie pytanie: Czy da siÄ™ wygrywaÄ‡ na loterii?</p><p><img src="/assets/img/tenor.0873a39b.gif" alt="Znalezione obrazy dla zapytania computer says no gif"></p><h2 id="zalaczniki"><a href="#zalaczniki" aria-hidden="true" class="header-anchor">#</a> ZaÅ‚Ä…czniki</h2><p><a href="/gambling/gambling.py">gambling.py</a></p><h2 id="zrodla"><a href="#zrodla" aria-hidden="true" class="header-anchor">#</a> Å¹rÃ³dÅ‚a</h2><p>Labouchere: <a href="http://www.surebety.pl/artykul/labouchere" target="_blank" rel="noopener noreferrer">http://www.surebety.pl/artykul/labouchere<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p>Ada Loverence:</p><p><a href="https://en.wikipedia.org/wiki/Ada_Lovelace" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Ada_Lovelace<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p><a href="https://www.famousscientists.org/ada-lovelace/" target="_blank" rel="noopener noreferrer">https://www.famousscientists.org/ada-lovelace/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p><a href="https://gadzetomania.pl/58233,ada-lovelace-pierwsza-programistka" target="_blank" rel="noopener noreferrer">https://gadzetomania.pl/58233,ada-lovelace-pierwsza-programistka<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h3 id="video"><a href="#video" aria-hidden="true" class="header-anchor">#</a> Video</h3><p>Labouchere, by â€œSentdexâ€: <a href="https://www.youtube.com/watch?v=bUFQNjjItok" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=bUFQNjjItok<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p>Gambling paradox,  by â€œLooking Glass Universe: <a href="https://www.youtube.com/watch?v=t8L9GCophac" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=t8L9GCophac<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p>Why the Martingale Betting System Doesnâ€™t work, by â€œLooking Glass Universeâ€<a href="https://www.youtube.com/watch?v=Ry3B9hJbBfk&t=4s" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=Ry3B9hJbBfk&amp;t=4s<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h3 id="ksiazki"><a href="#ksiazki" aria-hidden="true" class="header-anchor">#</a> KsiÄ…Å¼ki</h3><p>â€œOrzeÅ‚ czy Reszkaâ€- Hugo Steinhaus, ISBN 978-83-01-16284-9</p></div><div class="page-edit"><!----><!----></div><!----></div></div></div>
    <script src="/assets/js/30.7d313f6b.js" defer></script><script src="/assets/js/46.59caeff0.js" defer></script><script src="/assets/js/45.c7013a6c.js" defer></script><script src="/assets/js/34.5336840b.js" defer></script><script src="/assets/js/35.a518df90.js" defer></script><script src="/assets/js/36.93c73ba4.js" defer></script><script src="/assets/js/app.bd92e1f5.js" defer></script>
  </body>
</html>
