{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/genetic-org.js","webpack:///./src/App.vue?37e9","webpack:///./src/components/mymap.vue?4723","webpack:///./src/js/movie-cars.js","webpack:///./src/js/signs.js","webpack:///./src/js/movie-generate.js","webpack:///./src/js/simulation.js","webpack:///./src/js/genetic.js","webpack:///./src/components/MessageBox.vue?661e","webpack:///src/components/MessageBox.vue","webpack:///./src/components/MessageBox.vue?3945","webpack:///./src/components/MessageBox.vue?d2a7","webpack:///./src/components/number-input.vue?3351","webpack:///src/components/number-input.vue","webpack:///./src/components/number-input.vue?c265","webpack:///./src/components/number-input.vue?f307","webpack:///src/components/mymap.vue","webpack:///./src/components/mymap.vue?0f13","webpack:///./src/components/mymap.vue?b9f6","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/plugins/element.js","webpack:///./src/main.js","webpack:///./src/components/number-input.vue?776f","webpack:///./src/App.vue?f81e","webpack:///./src/components/MessageBox.vue?0fe6","webpack:///./src/App.vue?f379","webpack:///./src/components/mymap.vue?47dd"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Genetic","Serialization","stringify","obj","JSON","Function","toString","RegExp","parse","str","lastIndexOf","eval","Clone","C_PUBLIC_PROJECTS_FINAL_TensorTraffic_tensortrafficonline_node_modules_babel_runtime_helpers_builtin_es6_typeof__WEBPACK_IMPORTED_MODULE_3__","Optimize","Maximize","a","b","Minimize","Select1","Tournament2","pop","Math","floor","random","this","optimize","fitness","entity","Tournament3","best","Fittest","Random","RandomLinearRank","internalGenState","min","Sequential","Select2","FittestRandom","seed","mutate","model","crossover","select1","select2","generation","notification","configuration","size","mutation","iterations","fittestAlwaysSurvives","maxResults","webWorkers","skip","userData","entities","usingWebWorker","start","C_PUBLIC_PROJECTS_FINAL_TensorTraffic_tensortrafficonline_node_modules_babel_runtime_helpers_builtin_es6_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","regeneratorRuntime","mark","_callee","self","mutateOrNot","mean","stdev","stats","isFinished","newPop","parents","children","wrap","_context","prev","next","undefined","notify","map","sort","reduce","sqrt","maximum","minimum","sendNotification","abrupt","stop","response","postMessage","evolve","_ref3","_callee2","config","k","genetic","_context2","_x","_x2","arguments","__webpack_exports__","Appvue_type_template_id_4d2f6cf4_render","_vm","_h","$createElement","_c","_self","attrs","id","staticRenderFns","mymapvue_type_template_id_286e07cc_render","staticClass","_v","_s","isLoading_text","_e","title","visible","traffic_visible","width","center","on","update:visible","$event","close","traffic_dialog_off","placeholder","callback","$$v","traffic_time","expression","style","traffic_time1","traffic_time2","traffic_time3","_l","position","src","alt","isGreen","background-color","slot","click","type","traffic_dialog_confirm","ok","cancel","isShowGenetic","run","genetic_calculate","ref","genetic_config","label-width","label","$set","plain","showCalculation","showSimulation","directives","rawName","panelType","round","time","traffic_load","best_solution","best_solution_result","group","target","currentTarget","traffic_dialog_update","sign_marker","mouseover","calOnOver","mouseout","calOffOver","input","traffic_set_group","simulation_load","max","simulation_time","icon","simulation_play","mymapvue_type_template_id_286e07cc_staticRenderFns","leaflet_src_default","interpolatePosition","p1","p2","duration","latLng","lat","lng","Marker","MovingMarker","extend","statics","notStartedState","endedState","pausedState","runState","options","autostart","loop","initialize","latlngs","durations","_latlngs","e","index","Array","_durations","_createDurations","_currentDuration","_currentIndex","_state","_startTime","_startTimeStamp","_pauseStartTime","_animId","_animRequested","_currentLine","_stations","isRunning","isEnded","isStarted","isPaused","resume","_loadLine","_startAnimation","fire","getLatLng","pause","Date","now","_stopAnimation","_updatePosition","elapsedTime","addLatLng","latlng","moveTo","addStation","pointIndex","onAdd","_resumeAnimation","onRemove","lastIndex","distances","totalDistance","distance","distanceTo","ratioDuration","Util","requestAnimFrame","timestamp","_animate","cancelAnimFrame","_updateLine","stationDuration","lineIndex","lineDuration","setLatLng","noRequestAnim","movingMarker","movie_cars","signs_Sign","Sign","show","classCallCheck","group_id","signs_SignGroup","SignGroup","connections","signs","connection","sign_groups","28","64","98","99","100","101","102","103","104","131","132","133","134","135","136","137","180","182","283","288","289","simulation_Simulation","Simulation","cars","x_scale","y_scale","y_mean","on_load","tf_esm","popk","arrp","tensor","predict","dataSync","sim","load","simulation","genetic_org","get_val","g","randomString","len","arr","rs","replaceAt","character","sl","mother","father","ca","cb","tmp","son","concat","daughter","_ref","asyncToGenerator","on_finish","on_notify","_ref2","_x4","_x5","_x6","_x7","max_val","sent","_x3","js_genetic","MessageBoxvue_type_template_id_634cbc44_render","staticStyle","z-index","tabindex","role","aria-modal","aria-label","keyup","_k","keyCode","$emit","_t","MessageBoxvue_type_template_id_634cbc44_staticRenderFns","MessageBoxvue_type_script_lang_js_","beforeMount","addEventListener","onEscapeKeyUp","beforeDestroy","removeEventListener","props","String","default","methods","event","which","components_MessageBoxvue_type_script_lang_js_","component","componentNormalizer","__file","MessageBox","number_inputvue_type_template_id_6c7308e8_scoped_true_render","_obj","_g","class","number-input--inline","inline","number-input--center","number-input--controls","controls","listeners","disabled","readonly","decreasable","decrease","step","inputtable","increasable","autocomplete","domProps","currentValue","change","paste","increase","number_inputvue_type_template_id_6c7308e8_scoped_true_staticRenderFns","number_inputvue_type_script_lang_js_isNaN","Number","isNaN","REGEXP_NUMBER","normalizeDecimalNumber","parseFloat","toFixed","number_inputvue_type_script_lang_js_","NaN","Boolean","Infinity","rounded","computed","num","objectSpread","$listeners","setValue","test","clipboardData","getData","preventDefault","_this","oldValue","newValue","$nextTick","$el","$refs","watch","created","components_number_inputvue_type_script_lang_js_","number_input_component","number_input","mymapvue_type_script_lang_js_","Control","components","number-input","isLoading","traffic_dialog","traffic_group","traffic_signs","traffic_times","times","car_icon","zoom","mapMarkers","car","car_position","sign_times","mounted","iconUrl","iconSize","iconAnchor","popupAnchor","setView","tileLayer","attribution","addTo","refreshMarks","v","traffic_set_time","removeLayer","group_key","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","done","addSign","err","return","uploadCars","sign","sign_group","marker","bindTooltip","permanent","className","opacity","offset","unbindTooltip","val","reload","parseInt","setTooltipContent","$message","message","pos","getBounds","abs","getWest","getEast","panTo","_genetic_calculate","_callee3","delay","_context3","ms","Promise","resolve","setTimeout","$forceUpdate","_x8","error","console","log","myMovingMarker","rotationAngle","playCars","components_mymapvue_type_script_lang_js_","mymap_component","mymap","Appvue_type_script_lang_js_","src_Appvue_type_script_lang_js_","App_component","App","vue_runtime_esm","use","element_ui_common_default","locale","en_default","productionTip","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_number_input_vue_vue_type_style_index_0_id_6c7308e8_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MessageBox_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mymap_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.dfa7c67b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var Genetic = Genetic || (function(){\r\n\t\r\n\t'use strict';\r\n\t\r\n\t// facilitates communcation between web workers\r\n\tvar Serialization = {\r\n\t\t\"stringify\": function (obj) {\r\n\t\t\treturn JSON.stringify(obj, function (key, value) {\r\n\t\t\t\tif (value instanceof Function || typeof value == \"function\") return \"__func__:\" + value.toString();\r\n\t\t\t\tif (value instanceof RegExp) return \"__regex__:\" + value;\r\n\t\t\t\treturn value;\r\n\t\t\t});\r\n\t\t}, \"parse\": function (str) {\r\n\t\t\treturn JSON.parse(str, function (key, value) {\r\n\t\t\t\tif (typeof value != \"string\") return value;\r\n\t\t\t\tif (value.lastIndexOf(\"__func__:\", 0) === 0) return eval('(' + value.slice(9) + ')');\r\n\t\t\t\tif (value.lastIndexOf(\"__regex__:\", 0) === 0) return eval('(' + value.slice(10) + ')');\r\n\t\t\t\treturn value;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\tvar Clone = function(obj) {\r\n\t\tif (obj == null || typeof obj != \"object\")\r\n\t\t\treturn obj;\r\n\t\t\r\n\t\treturn JSON.parse(JSON.stringify(obj));\r\n\t};\r\n\t\r\n\tvar Optimize = {\r\n\t\t\"Maximize\": function (a, b) { return a >= b; }\r\n\t\t, \"Minimize\": function (a, b) { return a < b; }\r\n\t};\r\n\t\r\n\tvar Select1 = {\r\n\t\t\"Tournament2\": function(pop) {\r\n\t\t\tvar n = pop.length;\r\n\t\t\tvar a = pop[Math.floor(Math.random()*n)];\r\n\t\t\tvar b = pop[Math.floor(Math.random()*n)];\r\n\t\t\treturn this.optimize(a.fitness, b.fitness) ? a.entity : b.entity;\r\n\t\t}, \"Tournament3\": function(pop) {\r\n\t\t\tvar n = pop.length;\r\n\t\t\tvar a = pop[Math.floor(Math.random()*n)];\r\n\t\t\tvar b = pop[Math.floor(Math.random()*n)];\r\n\t\t\tvar c = pop[Math.floor(Math.random()*n)];\r\n\t\t\tvar best = this.optimize(a.fitness, b.fitness) ? a : b;\r\n\t\t\tbest = this.optimize(best.fitness, c.fitness) ? best : c;\r\n\t\t\treturn best.entity;\r\n\t\t}, \"Fittest\": function (pop) {\r\n\t\t\treturn pop[0].entity;\r\n\t\t}, \"Random\": function (pop) {\r\n\t\t\treturn pop[Math.floor(Math.random()*pop.length)].entity;\r\n\t\t}, \"RandomLinearRank\": function (pop) {\r\n\t\t\tthis.internalGenState[\"rlr\"] = this.internalGenState[\"rlr\"]||0;\r\n\t\t\treturn pop[Math.floor(Math.random()*Math.min(pop.length,(this.internalGenState[\"rlr\"]++)))].entity;\r\n\t\t}, \"Sequential\": function (pop) {\r\n\t\t\tthis.internalGenState[\"seq\"] = this.internalGenState[\"seq\"]||0;\r\n\t\t\treturn pop[(this.internalGenState[\"seq\"]++)%pop.length].entity;\r\n\t\t}\r\n\t};\r\n\t\r\n\tvar Select2 = {\r\n\t\t\"Tournament2\": function(pop) {\r\n\t\t\treturn [Select1.Tournament2.call(this, pop), Select1.Tournament2.call(this, pop)];\r\n\t\t}, \"Tournament3\": function(pop) {\r\n\t\t\treturn [Select1.Tournament3.call(this, pop), Select1.Tournament3.call(this, pop)];\r\n\t\t}, \"Random\": function (pop) {\r\n\t\t\treturn [Select1.Random.call(this, pop), Select1.Random.call(this, pop)];\r\n\t\t}, \"RandomLinearRank\": function (pop) {\r\n\t\t\treturn [Select1.RandomLinearRank.call(this, pop), Select1.RandomLinearRank.call(this, pop)];\r\n\t\t}, \"Sequential\": function (pop) {\r\n\t\t\treturn [Select1.Sequential.call(this, pop), Select1.Sequential.call(this, pop)];\r\n\t\t}, \"FittestRandom\": function (pop) {\r\n\t\t\treturn [Select1.Fittest.call(this, pop), Select1.Random.call(this, pop)];\r\n\t\t}\r\n\t};\r\n\t\r\n\tfunction Genetic() {\r\n\t\t\r\n\t\t// population\r\n\t\tthis.fitness = null;\r\n\t\tthis.seed = null;\r\n    this.mutate = null;\r\n    this.model = null;\r\n\t\tthis.crossover = null;\r\n\t\tthis.select1 = null;\r\n\t\tthis.select2 = null;\r\n\t\tthis.optimize = null;\r\n\t\tthis.generation = null;\r\n\t\tthis.notification = null;\r\n\t\t\r\n\t\tthis.configuration = {\r\n\t\t\t\"size\": 250\r\n\t\t\t, \"crossover\": 0.9\r\n\t\t\t, \"mutation\": 0.2\r\n\t\t\t, \"iterations\": 100\r\n\t\t\t, \"fittestAlwaysSurvives\": true\r\n\t\t\t, \"maxResults\": 100\r\n\t\t\t, \"webWorkers\": true\r\n\t\t\t, \"skip\": 0\r\n\t\t};\r\n\t\t\r\n\t\tthis.userData = {};\r\n\t\tthis.internalGenState = {};\r\n\t\t\r\n\t\tthis.entities = [];\r\n\t\t\r\n\t\tthis.usingWebWorker = false;\r\n\t\t\r\n\t\tthis.start = async function() {\r\n\t\t\t\r\n\t\t\tvar i;\r\n\t\t\tvar self = this;\r\n\t\t\t\r\n\t\t\tfunction mutateOrNot(entity) {\r\n\t\t\t\t// applies mutation based on mutation probability\r\n\t\t\t\treturn Math.random() <= self.configuration.mutation && self.mutate ? self.mutate(Clone(entity)) : entity;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// seed the population\r\n\t\t\tfor (i=0;i<this.configuration.size;++i)  {\r\n\t\t\t\tthis.entities.push(Clone(this.seed()));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0;i<this.configuration.iterations;++i) {\r\n        // console.log(i,this.configuration.iterations, this.notify)\r\n\r\n        // const delay = ms => {\r\n        //   return new Promise(resolve => {\r\n        //     setTimeout(resolve, ms)\r\n        //   })\r\n        // }\r\n\r\n        if(self.notify!=undefined) {\r\n          // await delay(100)\r\n          self.notify(i,this.configuration.iterations)\r\n        }\r\n\t\t\t\t// reset for each generation\r\n\t\t\t\tthis.internalGenState = {};\r\n\t\t\t\t\r\n\t\t\t\t// score and sort\r\n\t\t\t\tvar pop = this.entities\r\n\t\t\t\t\t.map(function (entity) {\r\n\t\t\t\t\t\treturn {\"fitness\": self.fitness(entity), \"entity\": entity };\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.sort(function (a, b) {\r\n\t\t\t\t\t\treturn self.optimize(a.fitness, b.fitness) ? -1 : 1;\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// generation notification\r\n\t\t\t\tvar mean = pop.reduce(function (a, b) { return a + b.fitness; }, 0)/pop.length;\r\n\t\t\t\tvar stdev = Math.sqrt(pop\r\n\t\t\t\t\t.map(function (a) { return (a.fitness - mean) * (a.fitness - mean); })\r\n\t\t\t\t\t.reduce(function (a, b) { return a+b; }, 0)/pop.length);\r\n\t\t\t\t\t\r\n\t\t\t\tvar stats = {\r\n\t\t\t\t\t\"maximum\": pop[0].fitness\r\n\t\t\t\t\t, \"minimum\": pop[pop.length-1].fitness\r\n\t\t\t\t\t, \"mean\": mean\r\n\t\t\t\t\t, \"stdev\": stdev\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar r = this.generation ? this.generation(pop, i, stats) : true;\r\n\t\t\t\tvar isFinished = (typeof r != \"undefined\" && !r) || (i == this.configuration.iterations-1);\r\n\t\t\t\t\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.notification\r\n\t\t\t\t\t&& (isFinished || this.configuration[\"skip\"] == 0 || i%this.configuration[\"skip\"] == 0)\r\n\t\t\t\t) {\r\n\t\t\t\t\tthis.sendNotification(pop.slice(0, this.maxResults), i, stats, isFinished);\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tif (isFinished)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\t// crossover and mutate\r\n\t\t\t\tvar newPop = [];\r\n\t\t\t\t\r\n\t\t\t\tif (this.configuration.fittestAlwaysSurvives) // lets the best solution fall through\r\n\t\t\t\t\tnewPop.push(pop[0].entity);\r\n\t\t\t\t\r\n\t\t\t\twhile (newPop.length < self.configuration.size) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tthis.crossover // if there is a crossover function\r\n\t\t\t\t\t\t&& Math.random() <= this.configuration.crossover // base crossover on specified probability\r\n\t\t\t\t\t\t&& newPop.length+1 < self.configuration.size // keeps us from going 1 over the max population size\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tvar parents = this.select2(pop);\r\n\t\t\t\t\t\tvar children = this.crossover(Clone(parents[0]), Clone(parents[1])).map(mutateOrNot);\r\n\t\t\t\t\t\tnewPop.push(children[0], children[1]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewPop.push(mutateOrNot(self.select1(pop)));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.entities = newPop;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.sendNotification = function(pop, generation, stats, isFinished) {\r\n\t\t\tvar response = {\r\n\t\t\t\t\"pop\": pop.map(Serialization.stringify)\r\n\t\t\t\t, \"generation\": generation\r\n\t\t\t\t, \"stats\": stats\r\n\t\t\t\t, \"isFinished\": isFinished\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif (this.usingWebWorker) {\r\n\t\t\t\tpostMessage(response);\r\n\t\t\t} else {\r\n        // console.log('this', this)\r\n\t\t\t\t// self declared outside of scope\r\n\t\t\t\tthis.notification(response.pop.map(Serialization.parse), response.generation, response.stats, response.isFinished);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t};\r\n\t}\r\n\t\r\n\tGenetic.prototype.evolve = async function(config, userData) {\r\n\t\t\r\n\t\tvar k;\r\n\t\tfor (k in config) {\r\n\t\t\tthis.configuration[k] = config[k];\r\n\t\t}\r\n\t\t\r\n\t\tfor (k in userData) {\r\n\t\t\tthis.userData[k] = userData[k];\r\n\t\t}\r\n\t\t\r\n\t\t// determine if we can use webworkers\r\n    this.usingWebWorker = false\r\n    //  this.configuration.webWorkers\r\n\t\t// \t&& typeof Blob != \"undefined\"\r\n\t\t// \t&& typeof Worker != \"undefined\"\r\n\t\t// \t&& typeof window.URL != \"undefined\"\r\n\t\t// \t&& typeof window.URL.createObjectURL != \"undefined\";\r\n\t\t\r\n\t\t// function addslashes(str) {\r\n\t\t// \treturn str.replace(/[\\\\\"']/g, '\\\\$&').replace(/\\u0000/g, '\\\\0');\r\n\t\t// }\r\n\t\t\t\r\n\t\t// bootstrap webworker script\r\n\t\t// var blobScript = \"'use strict'\\n\";\r\n\t\t// blobScript += \"var Serialization = {'stringify': \" + Serialization.stringify.toString() + \", 'parse': \" + Serialization.parse.toString() + \"};\\n\";\r\n\t\t// blobScript += \"var Clone = \" + Clone.toString() + \";\\n\";\r\n\t\t\r\n\t\t// // make available in webworker\r\n\t\t// blobScript += \"var Optimize = Serialization.parse(\\\"\" + addslashes(Serialization.stringify(Optimize)) + \"\\\");\\n\";\r\n\t\t// blobScript += \"var Select1 = Serialization.parse(\\\"\" + addslashes(Serialization.stringify(Select1)) + \"\\\");\\n\";\r\n\t\t// blobScript += \"var Select2 = Serialization.parse(\\\"\" + addslashes(Serialization.stringify(Select2)) + \"\\\");\\n\";\r\n\t\t\r\n\t\t// // materialize our ga instance in the worker\r\n\t\t// blobScript += \"var genetic = Serialization.parse(\\\"\" + addslashes(Serialization.stringify(this)) + \"\\\");\\n\";\r\n\t\t// blobScript += \"onmessage = function(e) { genetic.start(); }\\n\";\r\n\t\t\r\n    // var self = this;\r\n    // var Optimize = Optimize\r\n    // var Select1 = Select1\r\n    // var Select2 = Select2\r\n\r\n\r\n    var genetic = this\r\n\r\n    await genetic.start();\r\n    // var onmessage = function(e) {\r\n      \r\n    //    }\r\n    // onmessage(null);\r\n\t\t\r\n\t\t// if (this.usingWebWorker) {\r\n\t\t// \t// webworker\r\n\t\t// \tvar blob = new Blob([blobScript]);\r\n\t\t// \tvar worker = new Worker(window.URL.createObjectURL(blob));\r\n\t\t// \tworker.onmessage = function(e) {\r\n\t\t// \t  var response = e.data;\r\n\t\t// \t  self.notification(response.pop.map(Serialization.parse), response.generation, response.stats, response.isFinished);\r\n\t\t// \t};\r\n\t\t// \tworker.onerror = function(e) {\r\n\t\t// \t\talert('ERROR: Line ' + e.lineno + ' in ' + e.filename + ': ' + e.message);\r\n\t\t// \t};\r\n\t\t// \tworker.postMessage(\"\");\r\n\t\t// } else {\r\n\t\t// \t// simulate webworker\r\n\t\t// \t(function(){\r\n\t\t// \t\tvar onmessage;\r\n\t\t// \t\teval(blobScript);\r\n\t\t// \t\tonmessage(null);\r\n\t\t// \t})();\r\n\t\t// }\r\n\t}\r\n\t\r\n\treturn {\r\n\t\t\"create\": function() {\r\n\t\t\treturn new Genetic();\r\n\t\t}, \"Select1\": Select1\r\n\t\t, \"Select2\": Select2\r\n\t\t, \"Optimize\": Optimize\r\n\t\t, \"Clone\": Clone\r\n\t};\r\n\t\r\n})();\r\n\r\nexport default Genetic\r\n// so we don't have to build to run in the browser\r\n// if (typeof module != \"undefined\") {\r\n// \tmodule.exports = Genetic;\r\n// }\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('mymap',{attrs:{\"id\":\"mapObject\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-view\",attrs:{\"id\":\"map\"}},[(_vm.isLoading)?_c('span',{staticClass:\"loading-screen\"},[_c('h1',[_vm._v(\"Running... \"+_vm._s(_vm.isLoading_text))]),_c('div',{staticClass:\"loader\"})]):_vm._e(),_c('el-dialog',{staticClass:\"traffic_dialog\",attrs:{\"id\":\"traffic_dialog_id\",\"title\":\"Update Offset for traffic sign\",\"visible\":_vm.traffic_visible,\"width\":\"40%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.traffic_visible=$event},\"close\":_vm.traffic_dialog_off}},[_c('span',[_vm._v(\" The signal start from time 0 and is calculated by the offset of the value\")]),_c('el-input',{staticClass:\"mt-2\",attrs:{\"placeholder\":\"Please input\"},model:{value:(_vm.traffic_time),callback:function ($$v) {_vm.traffic_time=$$v},expression:\"traffic_time\"}}),_c('div',{staticClass:\"line\"},[_c('div',{staticClass:\"first-empty\"}),_c('span',{staticClass:\"text\",style:({\n    'width': _vm.traffic_time1 + '%'\n    })},[_vm._v(_vm._s(_vm.traffic_time1)+\"s\")]),_c('span',{staticClass:\"text\",style:({\n    'width': _vm.traffic_time2/60*100 + '%'\n    })},[_vm._v(_vm._s(_vm.traffic_time2)+\"s\")]),_c('span',{staticClass:\"text\",style:({\n    'width': _vm.traffic_time3/60*100 + '%'\n    })},[_vm._v(_vm._s(_vm.traffic_time3)+\"s\")])]),_vm._l((_vm.traffic_signs),function(s){return _c('div',{key:s.id},[_c('span',{staticClass:\"quote\"},[_vm._v(\"Position: \"+_vm._s(s.position)+\" \")]),_c('div',{staticClass:\"line\"},[_c('img',{staticClass:\"first\",attrs:{\"src\":\"signal.png\",\"alt\":\"\"}}),_c('div',{staticClass:\"color123 first_el\",style:({\n    'width': \n    (s.isGreen ? _vm.traffic_time1 : _vm.traffic_time1+2)/60*100 + '%',\n    'background-color': s.isGreen ? '#67c23a' : '#f56c6c'\n    })},[_vm._v(\" \"+_vm._s((s.isGreen ? _vm.traffic_time1 : _vm.traffic_time1+2)))]),_c('div',{staticClass:\"color123\",style:({\n    'width': (s.isGreen ? _vm.traffic_time2+2 : _vm.traffic_time2-2)/60*100 + '%',\n      'background-color': s.isGreen ?  '#f56c6c' : '#67c23a',\n    })},[_vm._v(\" \"+_vm._s((s.isGreen ? _vm.traffic_time2+2 : _vm.traffic_time2-2)))]),_c('div',{staticClass:\"color123 last\",style:({\n    'width': _vm.traffic_time3/60*100 + '%',\n    'background-color': s.isGreen ? '#67c23a' : '#f56c6c'\n    })},[_vm._v(\" \"+_vm._s((s.isGreen ? _vm.traffic_time3-2 : _vm.traffic_time3))+\" \")]),_c('div')]),_c('div')])}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.traffic_dialog_off}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.traffic_dialog_confirm}},[_vm._v(\"Update Offset\")])],1)],2),(_vm.isShowGenetic)?_c('MessageBox',{attrs:{\"title\":\"Genetic Parameters\",\"ok\":\"Run Genetic Algorithm\"},on:{\"cancel\":function($event){_vm.isShowGenetic=false},\"run\":function($event){_vm.genetic_calculate()}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.genetic_config,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"Iterations\"}},[_c('el-input',{model:{value:(_vm.genetic_config.iterations),callback:function ($$v) {_vm.$set(_vm.genetic_config, \"iterations\", $$v)},expression:\"genetic_config.iterations\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Size\"}},[_c('el-input',{model:{value:(_vm.genetic_config.size),callback:function ($$v) {_vm.$set(_vm.genetic_config, \"size\", $$v)},expression:\"genetic_config.size\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Cross Over\"}},[_c('el-input',{model:{value:(_vm.genetic_config.crossover),callback:function ($$v) {_vm.$set(_vm.genetic_config, \"crossover\", $$v)},expression:\"genetic_config.crossover\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Mutation\"}},[_c('el-input',{model:{value:(_vm.genetic_config.mutation),callback:function ($$v) {_vm.$set(_vm.genetic_config, \"mutation\", $$v)},expression:\"genetic_config.mutation\"}})],1)],1)],1):_vm._e(),_c('div',{attrs:{\"id\":\"mapid\"}}),_c('div',{staticClass:\"panel-info\"},[_c('el-button',{attrs:{\"type\":\"success\",\"plain\":\"\"},on:{\"click\":_vm.showCalculation}},[_c('i',{staticClass:\"fas fa-traffic-light\"}),_vm._v(\" Traffic Lights\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.showSimulation}},[_c('i',{staticClass:\"fas fa-car\"}),_vm._v(\" Simulation\")])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelType=='cal'),expression:\"panelType=='cal'\"}],staticClass:\"panel-show\"},[_c('span',[_vm._v(\"\\n      Result:\\n      \"),_c('span',{staticClass:\"text-result\"},[_vm._v(_vm._s(Math.round(_vm.time))+\" ms\")])]),_c('hr'),_c('el-button',{staticClass:\"calculation\",attrs:{\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":function($event){_vm.isShowGenetic = true}}},[_c('i',{staticClass:\"fas fa-calculator\"}),_vm._v(\" Find Best Solution\")]),_c('span'),_c('el-button',{staticClass:\"calculation\",attrs:{\"type\":\"success\",\"plain\":\"\"},on:{\"click\":function($event){_vm.traffic_load(_vm.best_solution)}}},[_c('i',{staticClass:\"fas fa-upload\"}),_vm._v(\" Load Best Solution (\"+_vm._s(Math.round(_vm.best_solution_result))+\" ms)\")]),_vm._l((_vm.sign_groups),function(group){return _c('div',{key:group.id,staticClass:\"light\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.traffic_dialog_update(group.sign_marker)},\"mouseover\":function($event){_vm.calOnOver(group)},\"mouseout\":function($event){_vm.calOffOver(group)}}},[_c('i',{staticClass:\"fas fa-traffic-light\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.traffic_dialog_update(group.sign_marker)}}}),_c('span',{staticClass:\"text\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.traffic_dialog_update(group.sign_marker)}}},[_vm._v(_vm._s(group.id))]),_c('el-input',{staticClass:\"time\",attrs:{\"value\":group.time,\"size\":\"mini\",\"type\":\"number \"},on:{\"input\":function($event){_vm.traffic_set_group(group,$event,true)}}})],1)})],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelType=='sim'),expression:\"panelType=='sim'\"}],staticClass:\"panel-show\"},[_c('div'),_c('el-button',{staticClass:\"calculation\",attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.simulation_load}},[_vm._v(\"Load Simulation\")]),_c('el-slider',{attrs:{\"min\":0,\"max\":600},model:{value:(_vm.simulation_time),callback:function ($$v) {_vm.simulation_time=$$v},expression:\"simulation_time\"}}),_c('el-button',{attrs:{\"type\":\"success\",\"round\":\"\",\"icon\":\"el-icon-caret-right\"},on:{\"click\":_vm.simulation_play}},[_vm._v(\"Start Simulation\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import L from 'leaflet'\r\n\r\nimport 'leaflet-rotatedmarker'\r\n// import 'Leaflet-MovingMaker/MovingMarker.js'\r\n\r\n\r\n\r\nL.interpolatePosition = function(p1, p2, duration, t) {\r\n  var k = t/duration;\r\n  k = (k > 0) ? k : 0;\r\n  k = (k > 1) ? 1 : k;\r\n  return L.latLng(p1.lat + k * (p2.lat - p1.lat),\r\n      p1.lng + k * (p2.lng - p1.lng));\r\n};\r\n\r\nL.Marker.MovingMarker = L.Marker.extend({\r\n  //state constants\r\n  statics: {\r\n      notStartedState: 0,\r\n      endedState: 1,\r\n      pausedState: 2,\r\n      runState: 3\r\n  },\r\n\r\n  options: {\r\n      autostart: false,\r\n      loop: false,\r\n  },\r\n\r\n  initialize: function (latlngs, durations, options) {\r\n      L.Marker.prototype.initialize.call(this, latlngs[0], options);\r\n\r\n      this._latlngs = latlngs.map(function(e, index) {\r\n          return L.latLng(e);\r\n      });\r\n\r\n      if (durations instanceof Array) {\r\n          this._durations = durations;\r\n      } else {\r\n          this._durations = this._createDurations(this._latlngs, durations);\r\n      }\r\n      this._currentDuration = 0;\r\n      this._currentIndex = 0;\r\n\r\n      this._state = L.Marker.MovingMarker.notStartedState;\r\n      this._startTime = 0;\r\n      this._startTimeStamp = 0;  // timestamp given by requestAnimFrame\r\n      this._pauseStartTime = 0;\r\n      this._animId = 0;\r\n      this._animRequested = false;\r\n      this._currentLine = [];\r\n      this._stations = {};\r\n  },\r\n\r\n  isRunning: function() {\r\n      return this._state === L.Marker.MovingMarker.runState;\r\n  },\r\n\r\n  isEnded: function() {\r\n      return this._state === L.Marker.MovingMarker.endedState;\r\n  },\r\n\r\n  isStarted: function() {\r\n      return this._state !== L.Marker.MovingMarker.notStartedState;\r\n  },\r\n\r\n  isPaused: function() {\r\n      return this._state === L.Marker.MovingMarker.pausedState;\r\n  },\r\n\r\n  start: function() {\r\n      if (this.isRunning()) {\r\n          return;\r\n      }\r\n\r\n      if (this.isPaused()) {\r\n          this.resume();\r\n      } else {\r\n          this._loadLine(0);\r\n          this._startAnimation();\r\n          this.fire('start');\r\n      }\r\n  },\r\n\r\n  resume: function() {\r\n      if (! this.isPaused()) {\r\n          return;\r\n      }\r\n      // update the current line\r\n      this._currentLine[0] = this.getLatLng();\r\n      this._currentDuration -= (this._pauseStartTime - this._startTime);\r\n      this._startAnimation();\r\n  },\r\n\r\n  pause: function() {\r\n      if (! this.isRunning()) {\r\n          return;\r\n      }\r\n\r\n      this._pauseStartTime = Date.now();\r\n      this._state = L.Marker.MovingMarker.pausedState;\r\n      this._stopAnimation();\r\n      this._updatePosition();\r\n  },\r\n\r\n  stop: function(elapsedTime) {\r\n      if (this.isEnded()) {\r\n          return;\r\n      }\r\n\r\n      this._stopAnimation();\r\n\r\n      if (typeof(elapsedTime) === 'undefined') {\r\n          // user call\r\n          elapsedTime = 0;\r\n          this._updatePosition();\r\n      }\r\n\r\n      this._state = L.Marker.MovingMarker.endedState;\r\n      this.fire('end', {elapsedTime: elapsedTime});\r\n  },\r\n\r\n  addLatLng: function(latlng, duration) {\r\n      this._latlngs.push(L.latLng(latlng));\r\n      this._durations.push(duration);\r\n  },\r\n\r\n  moveTo: function(latlng, duration) {\r\n      this._stopAnimation();\r\n      this._latlngs = [this.getLatLng(), L.latLng(latlng)];\r\n      this._durations = [duration];\r\n      this._state = L.Marker.MovingMarker.notStartedState;\r\n      this.start();\r\n      this.options.loop = false;\r\n  },\r\n\r\n  addStation: function(pointIndex, duration) {\r\n      if (pointIndex > this._latlngs.length - 2 || pointIndex < 1) {\r\n          return;\r\n      }\r\n      this._stations[pointIndex] = duration;\r\n  },\r\n\r\n  onAdd: function (map) {\r\n      L.Marker.prototype.onAdd.call(this, map);\r\n\r\n      if (this.options.autostart && (! this.isStarted())) {\r\n          this.start();\r\n          return;\r\n      }\r\n\r\n      if (this.isRunning()) {\r\n          this._resumeAnimation();\r\n      }\r\n  },\r\n\r\n  onRemove: function(map) {\r\n      L.Marker.prototype.onRemove.call(this, map);\r\n      this._stopAnimation();\r\n  },\r\n\r\n  _createDurations: function (latlngs, duration) {\r\n      var lastIndex = latlngs.length - 1;\r\n      var distances = [];\r\n      var totalDistance = 0;\r\n      var distance = 0;\r\n\r\n      // compute array of distances between points\r\n      for (var i = 0; i < lastIndex; i++) {\r\n          distance = latlngs[i + 1].distanceTo(latlngs[i]);\r\n          distances.push(distance);\r\n          totalDistance += distance;\r\n      }\r\n\r\n      var ratioDuration = duration / totalDistance;\r\n\r\n      var durations = [];\r\n      for (i = 0; i < distances.length; i++) {\r\n          durations.push(distances[i] * ratioDuration);\r\n      }\r\n\r\n      return durations;\r\n  },\r\n\r\n  _startAnimation: function() {\r\n      this._state = L.Marker.MovingMarker.runState;\r\n      this._animId = L.Util.requestAnimFrame(function(timestamp) {\r\n          this._startTime = Date.now();\r\n          this._startTimeStamp = timestamp;\r\n          this._animate(timestamp);\r\n      }, this, true);\r\n      this._animRequested = true;\r\n  },\r\n\r\n  _resumeAnimation: function() {\r\n      if (! this._animRequested) {\r\n          this._animRequested = true;\r\n          this._animId = L.Util.requestAnimFrame(function(timestamp) {\r\n              this._animate(timestamp);\r\n          }, this, true);\r\n      }\r\n  },\r\n\r\n  _stopAnimation: function() {\r\n      if (this._animRequested) {\r\n          L.Util.cancelAnimFrame(this._animId);\r\n          this._animRequested = false;\r\n      }\r\n  },\r\n\r\n  _updatePosition: function() {\r\n      var elapsedTime = Date.now() - this._startTime;\r\n      this._animate(this._startTimeStamp + elapsedTime, true);\r\n  },\r\n\r\n  _loadLine: function(index) {\r\n      this._currentIndex = index;\r\n      this._currentDuration = this._durations[index];\r\n      this._currentLine = this._latlngs.slice(index, index + 2);\r\n  },\r\n\r\n  /**\r\n   * Load the line where the marker is\r\n   * @param  {Number} timestamp\r\n   * @return {Number} elapsed time on the current line or null if\r\n   * we reached the end or marker is at a station\r\n   */\r\n  _updateLine: function(timestamp) {\r\n      // time elapsed since the last latlng\r\n      var elapsedTime = timestamp - this._startTimeStamp;\r\n\r\n      // not enough time to update the line\r\n      if (elapsedTime <= this._currentDuration) {\r\n          return elapsedTime;\r\n      }\r\n\r\n      var lineIndex = this._currentIndex;\r\n      var lineDuration = this._currentDuration;\r\n      var stationDuration;\r\n\r\n      while (elapsedTime > lineDuration) {\r\n          // substract time of the current line\r\n          elapsedTime -= lineDuration;\r\n          stationDuration = this._stations[lineIndex + 1];\r\n\r\n          // test if there is a station at the end of the line\r\n          if (stationDuration !== undefined) {\r\n              if (elapsedTime < stationDuration) {\r\n                  this.setLatLng(this._latlngs[lineIndex + 1]);\r\n                  return null;\r\n              }\r\n              elapsedTime -= stationDuration;\r\n          }\r\n\r\n          lineIndex++;\r\n\r\n          // test if we have reached the end of the polyline\r\n          if (lineIndex >= this._latlngs.length - 1) {\r\n\r\n              if (this.options.loop) {\r\n                  lineIndex = 0;\r\n                  this.fire('loop', {elapsedTime: elapsedTime});\r\n              } else {\r\n                  // place the marker at the end, else it would be at\r\n                  // the last position\r\n                  this.setLatLng(this._latlngs[this._latlngs.length - 1]);\r\n                  this.stop(elapsedTime);\r\n                  return null;\r\n              }\r\n          }\r\n          lineDuration = this._durations[lineIndex];\r\n      }\r\n\r\n      this._loadLine(lineIndex);\r\n      this._startTimeStamp = timestamp - elapsedTime;\r\n      this._startTime = Date.now() - elapsedTime;\r\n      return elapsedTime;\r\n  },\r\n\r\n  _animate: function(timestamp, noRequestAnim) {\r\n      this._animRequested = false;\r\n\r\n      // find the next line and compute the new elapsedTime\r\n      var elapsedTime = this._updateLine(timestamp);\r\n\r\n      if (this.isEnded()) {\r\n          // no need to animate\r\n          return;\r\n      }\r\n\r\n      if (elapsedTime != null) {\r\n           // compute the position\r\n          var p = L.interpolatePosition(this._currentLine[0],\r\n              this._currentLine[1],\r\n              this._currentDuration,\r\n              elapsedTime);\r\n          this.setLatLng(p);\r\n      }\r\n\r\n      if (! noRequestAnim) {\r\n          this._animId = L.Util.requestAnimFrame(this._animate, this, false);\r\n          this._animRequested = true;\r\n      }\r\n  }\r\n});\r\n\r\nL.Marker.movingMarker = function (latlngs, duration, options) {\r\n  return new L.Marker.MovingMarker(latlngs, duration, options);\r\n};\r\n\r\n\r\nexport default L","export class Sign {\r\n  constructor(group, position, isGreen, show = false) {\r\n    this.group_id = group\r\n    this.position = position\r\n\r\n    this.isGreen = isGreen\r\n    this.show = show\r\n  }\r\n}\r\n\r\n\r\n\r\nexport class SignGroup {\r\n  constructor(id, group,  time, connections, signs) {\r\n    this.id = id\r\n    this.group = group\r\n    this.time = time\r\n    this.signs = signs\r\n\r\n    this.connection = connections\r\n\r\n    // console.log(this)\r\n\r\n    // console.log(this.time,this)\r\n    // let mod = time%60\r\n    // this.times = \r\n    // [\r\n    //   mod,\r\n    //   60,\r\n    //   60-mod\r\n    // ]\r\n\r\n    // [\r\n    //   ? 60 : time%60,\r\n    //   time >= 60 ? 60 : time%60,\r\n    //   mod+61,\r\n    //   mod+120,\r\n    //   120 \r\n\r\n    // ]\r\n\r\n    // console.log(this.time, this.times)\r\n  }\r\n}\r\n\r\nexport var sign_groups = {\r\n  '28': new SignGroup(0, '28', 93, ['180', '182'], [new Sign('28', [52.2107465, 20.9807139], false, true),\r\n    new Sign('28', [52.2105183, 20.9803437], false, false),\r\n    new Sign('28', [52.2105183, 20.9803437], false, false)\r\n  ]),\r\n\r\n  '64': new SignGroup(1, '64', 43, ['135', '180'], [new Sign('64', [52.2143666, 20.979524], false, true),\r\n    new Sign('64', [52.2144409, 20.9792988], false, false)\r\n  ]),\r\n\r\n  '98': new SignGroup(2, '98', 99, ['132', '135', '99'],\r\n\r\n    [new Sign('98', [52.218917, 20.9830513], false, true),\r\n      new Sign('98', [52.218917, 20.9830513], true, false)\r\n    ]),\r\n  '99': new SignGroup(3, '99', 47, ['98', '283'], [new Sign('99', [52.2194494, 20.9851343], true, true),\r\n    new Sign('99', [52.2194494, 20.9851343], false, false)\r\n  ]),\r\n\r\n  '100': new SignGroup(4, '100', 53, ['103', '137'], [new Sign('100', [52.2199519, 20.9709217], false, true), new Sign('100', [52.2197153, 20.9712994], true, false)]),\r\n\r\n  '101': new SignGroup(5, '101', 46, ['104', '103', '289'], [new Sign('101', [52.2159554, 20.9626047], false, true)]),\r\n  '102': new SignGroup(6, '102', 86, ['103', '104'], [new Sign('102', [52.2176205, 20.9600354], false, true)]),\r\n  '103': new SignGroup(7, '103', 26, ['101', '104','100'], [new Sign('103', [52.2168126, 20.9614718], true, true)]),\r\n  '104': new SignGroup(8, '104', 69, ['101', '103'], [new Sign('104', [52.2157853, 20.9603045], true, true)]),\r\n  '131': new SignGroup(9, '131', 84, ['100', '132'],  [new Sign('131', [52.2251573, 20.9893067], true, true), new Sign('131', [52.2250183, 20.9886315], false, false), new Sign('131', [52.2246683, 20.9895899], false, false), new Sign('131', [52.2245, 20.9889462], true, false)]),\r\n\r\n  '132': new SignGroup(10, '132', 80, ['131', '98'], [new Sign('132', [52.2211765, 20.9854959], true, true), new Sign('132', [52.2211765, 20.9854959], false, false), new Sign('132', [52.2212135, 20.9851842], false, false), new Sign('132', [52.2212135, 20.9851842], true, false)]),\r\n\r\n  '133': new SignGroup(11, '133', 115, ['134', '135'], [new Sign('133', [52.2161535, 20.9880646], true, true), new Sign('133', [52.2164161, 20.9880658], true, false), new Sign('133', [52.2164161, 20.9880658], false, false)]),\r\n  '134': new SignGroup(12, '134', 76,  ['133', '182'], [new Sign('134', [52.216484, 20.990223], false, true), new Sign('134', [52.216484, 20.990223], true, false), new Sign('134', [52.2161807, 20.9902419], true, false), new Sign('134', [52.2161807, 20.9902419], false, false)]),\r\n  '135': new SignGroup(13, '135', 25, ['136', '64','98','133'],  [new Sign('135', [52.2163183, 20.9813502], false, true), new Sign('135', [52.2161868, 20.9812472], true, false), new Sign('135', [52.2164287, 20.981024], true, false), new Sign('135', [52.2163078, 20.9809468], false, false)]),\r\n  '136': new SignGroup(14, '136', 43, ['137', '135'],[new Sign('136', [52.2176855, 20.9773419], false, true), new Sign('136', [52.2176855, 20.9773419], true, false), new Sign('136', [52.2175646, 20.9772389], true, false), new Sign('136', [52.2175646, 20.9772389], false, false)]),\r\n  '137': new SignGroup(15, '137', 69, ['100', '136'], [new Sign('137', [52.2189896, 20.9734108], false, true), new Sign('137', [52.2189896, 20.9734108], true, false), new Sign('137', [52.2188634, 20.9732649], true, false), new Sign('137', [52.2188634, 20.9732649], false, false)]),\r\n  '180': new SignGroup(16, '180', 80, ['64', '288','28'],[new Sign('180', [52.2109278, 20.9766552], true, true), new Sign('180', [52.2112644, 20.9764578], true, false), new Sign('180', [52.2111539, 20.9768355], false, false), new Sign('180', [52.2110751, 20.9762604], false, false)]),\r\n  '182': new SignGroup(17, '182', 65, ['28', '134'], [new Sign('182', [52.2101862, 20.9880707], true, true), new Sign('182', [52.2105428, 20.9878242], true, false), new Sign('182', [52.2102178, 20.9877016], false, false)]),\r\n  '283': new SignGroup(18, '283', 5, ['99', '134'], [new Sign('283', [52.2192124, 20.9901071], true, true), new Sign('283', [52.2192124, 20.9901071], false, false), new Sign('283', [52.2192513, 20.9893353], true, false), new Sign('283', [52.2192513, 20.9893353], false, false)]),\r\n  '288': new SignGroup(19, '288', 35,['289', '180'], [new Sign('288', [52.2125079, 20.9727936], false, true), new Sign('288', [52.2125079, 20.9727936], true, false), new Sign('288', [52.212337, 20.9726596], false, false), new Sign('288', [52.212337, 20.9726596], true, false)]),\r\n  '289': new SignGroup(20, '289', 72,['101', '288'], [new Sign('289', [52.2140019, 20.9685449], false, true), new Sign('289', [52.2140019, 20.9685449], true, false), new Sign('289', [52.2138224, 20.9683579], false, false), new Sign('289', [52.2138224, 20.9683579], true, false)])\r\n}","import L from 'leaflet'\r\nimport {\r\n  sign_groups\r\n} from './signs';\r\n\r\nfunction interpolatePosition(p1, p2, duration, t) {\r\n  var k = t / duration;\r\n  k = (k > 0) ? k : 0;\r\n  k = (k > 1) ? 1 : k;\r\n  return L.latLng(p1.lat + k * (p2.lat - p1.lat),\r\n    p1.lng + k * (p2.lng - p1.lng));\r\n}\r\n\r\n\r\n\r\nclass Car {\r\n  constructor(id, waiting, moves) {\r\n    this.id = id\r\n    this.waiting = waiting\r\n    this.moves = moves\r\n  }\r\n}\r\n\r\n\r\n\r\nclass Move {\r\n  constructor(from, to, color) {\r\n    this.from =  L.latLng(from)\r\n    this.to = L.latLng(to)\r\n    this.color = color\r\n  }\r\n\r\n  vector_size() {\r\n    var a0 = this.to.lng - this.from.lng\r\n    var a1 = this.to.lat - this.from.lat\r\n    return Math.sqrt(a0 * a0 + a1 * a1)\r\n  }\r\n}\r\n\r\nvar single_move = 0.004478320988941595 // this is a move for 10 seconds at full speed\r\n\r\nfunction random_array(arr) {\r\n  return arr[Math.floor(Math.random() * arr.length)];\r\n}\r\n\r\n\r\nfunction generate_moves(duration, steps) { //speed of the car\r\n  // var speed = Math.random()\r\n  // var steps = duration / step\r\n\r\n  var start_point = sign_groups[random_array(Object.keys(sign_groups))]\r\n\r\n  for (var i = 0; i < steps; i++) {\r\n    let end_point = sign_groups[random_array(start_point.connection)]\r\n    \r\n\r\n    console.log(start_point,  end_point)\r\n\r\n\r\n    \r\n  }\r\n\r\n}\r\n\r\n// var m = new Move([52.2109278, 20.9766552],[ 52.2143666, 20.979524 ], \"FF0000\")\r\n// console.log(m.vector_size())\r\n\r\nexport default function (size) {\r\n  var v = []\r\n  for (var i = 0; i < size; i++) {\r\n    v.push(\r\n      new Car(i, Math.floor(Math.random() * 120),\r\n        generate_moves(60, 6))\r\n    )\r\n  }\r\n  return v;\r\n}","import * as tf from '@tensorflow/tfjs';\r\n\r\n\r\nclass Simulation {\r\n  constructor() {\r\n    this.cars = []\r\n    this.x_scale = [0.00840336, 0.00840336, 0.00840336, 0.00840336, 0.00840336,\r\n      0.00840336, 0.00840336, 0.00840336, 0.00840336, 0.00840336,\r\n      0.00840336, 0.00840336, 0.00840336, 0.00840336, 0.00840336,\r\n      0.00840336, 0.00840336, 0.00840336, 0.00840336, 0.00840336,\r\n      0.00840336\r\n    ]\r\n    this.y_scale = 3251.8414074\r\n    this.y_mean = 48924.98394408\r\n    this.on_load = null\r\n    // this.model = tf.loadModel('https://foo.bar/tfjs_artifacts/model.json');\r\n  }\r\n\r\n  async load() {\r\n    this.model = await tf.loadModel('./model/model.json') //tf.io.browserFiles(['./model/model.json','./model/group1-shard1of2','./model/group1-shard2of2']));\r\n    // console.log(this.model)\r\n    if(this.on_load!=undefined) this.on_load(this)\r\n  }\r\n\r\n\r\n\r\n  predict(pop) {\r\n    var popk = pop.slice(0)\r\n    for (var i = 0; i < popk.length; i++) {\r\n      popk[i] = pop[i]*this.x_scale[i]\r\n    }\r\n    // console.log(popk)\r\n    var arrp = []\r\n    arrp[0] = popk\r\n    var tensor = tf.tensor(arrp)\r\n\r\n    // console.log(arrp,arrp.length,arrp[0],arrp[0].length)\r\n    var p = this.model.predict(tensor)\r\n    // p.print()\r\n    // console.log('predict', p,)\r\n    return p.dataSync()[0]*this.y_scale+this.y_mean\r\n  }\r\n}\r\n\r\nvar sim = new Simulation()\r\nsim.load()\r\nwindow.Simulation = sim\r\n\r\nexport default sim","import Genetic from './genetic-org'\r\nvar genetic = Genetic.create();\r\n\r\n\r\n// import * as tf from '@tensorflow/tfjs';\r\n\r\nimport sim from '../js/simulation.js';\r\n// sim.load()\r\n// import simulation from '../js/simulation.js'\r\n// simulation.load()\r\n\r\n\r\n// import * as tf from '@tensorflow/tfjs';\r\n\r\n// class Simulation {\r\n//   constructor() {\r\n//    this.cars = []\r\n//    // this.model = tf.loadModel('https://foo.bar/tfjs_artifacts/model.json');\r\n//  }\r\n\r\n//  async load() {\r\n//    this.model = await tf.loadModel('./model/model.json');\r\n//    // console.log(this.model)\r\n//  }\r\n\r\n//   predict(pop) {\r\n//    var arrp = []\r\n\r\n//    arrp[0] = pop\r\n//    var tensor = tf.tensor(arrp)\r\n\r\n//    // console.log(arrp,arrp.length,arrp[0],arrp[0].length)\r\n//    var p = this.model.predict(tensor)\r\n//    // p.print()\r\n//    // console.log('predict', p,)\r\n//    return  p.dataSync()[0]\r\n//  }\r\n// }\r\n\r\n\r\n\r\n// var simulation = new Simulation()\r\n\r\n// var config = {\r\n//   \"iterations\": 2000\r\n//   , \"size\": 20\r\n//   , \"crossover\": 0.4\r\n//   , \"mutation\": 0.3\r\n// };\r\n\r\n\r\n// genetic.simulation = function() {\r\n//   return sim\r\n// }\r\n\r\ngenetic.optimize = Genetic.Optimize.Minimize;\r\ngenetic.select1 = Genetic.Select1.Tournament2;\r\ngenetic.select2 = Genetic.Select2.Tournament2;\r\n\r\n// var length = 21\r\n// var max_val = 120\r\n\r\n// console.log(simulation)\r\n\r\n\r\n\r\n\r\ngenetic.get_val = function() {\r\n  return Math.floor(Math.random() * 120)\r\n}\r\n\r\ngenetic.model = sim\r\n// console.log(genetic.model)\r\n// genetic.get_predict = function(p) {\r\n//   // var w = require('./simulation')\r\n//   console.log(this.model)\r\n// }\r\n\r\n// var tabl\r\ngenetic.seed = function () {\r\n  let g = this\r\n  function randomString(len) {\r\n    // var text = \"\";\r\n    var arr = []\r\n    // var charset = \"abcdefghijklmnopqrstuvwxyz\";\r\n    for (var i = 0; i < len; i++) {\r\n      arr.push(g.get_val())\r\n    }\r\n    // text += charset.charAt(Math.floor(Math.random() * charset.length));\r\n    // console.log(arr)\r\n    return arr;\r\n  }\r\n\r\n  var rs = randomString(21);\r\n  // create random strings that are equal in length to solution\r\n  return rs\r\n};\r\n\r\ngenetic.mutate = function (entity) {\r\n  function replaceAt(str, index, character) {\r\n    var sl = str.slice(0)\r\n    sl[index] = character\r\n    // console.log(str, sl)\r\n    return sl\r\n    // return  entity[index] = character; //  str.substr(0, index) + character + str.substr(index + character.length);\r\n  }\r\n  // chromosomal drift\r\n  var i = Math.floor(Math.random() * entity.length)\r\n\r\n\r\n  return replaceAt(entity, i, this.get_val()\r\n        // String.fromCharCode(entity.charCodeAt(i) + (Math.floor(Math.random() * 2) ? 1 : -1))\r\n    );\r\n};\r\n\r\ngenetic.crossover = function (mother, father) {\r\n\r\n  // two-point crossover\r\n  var len = mother.length;\r\n  var ca = Math.floor(Math.random() * len);\r\n  var cb = Math.floor(Math.random() * len);\r\n  if (ca > cb) {\r\n    var tmp = cb;\r\n    cb = ca;\r\n    ca = tmp;\r\n  }\r\n\r\n  var son = father.slice(0, ca).concat(mother.slice(ca, ca + cb - ca)).concat(father.slice(cb));\r\n  var daughter = mother.slice(0, ca).concat(father.slice(ca, ca + cb - ca)).concat(mother.slice(cb));\r\n\r\n  // console.log('crossover',ca,cb, father, mother, son,daughter)\r\n  return [son, daughter];\r\n};\r\n\r\ngenetic.fitness = function (entity) {\r\n  // global simulation\r\n  // var fitness = 0;\r\n  // console.log(entity)\r\n  // var i;\r\n  // for (i = 0; i < entity.length; ++i) {\r\n  //   // increase fitness for each character that matches\r\n  //   if (entity[i] == this.userData[\"solution\"][i])\r\n  //     fitness += 1;\r\n\r\n  //   // award fractions of a point as we get warmer\r\n  //   fitness += (127 - Math.abs(entity.charCodeAt(i) - this.userData[\"solution\"].charCodeAt(i))) / 50;\r\n  // }\r\n\r\n  // console.log(this.model.predict(entity))\r\n  return this.model.predict(entity);\r\n};\r\n\r\ngenetic.generation = function (pop, generation, stats) {\r\n  // stop running once we've reached the solution\r\n  return true; // pop[0].entity != this.userData[\"solution\"];\r\n};\r\n\r\n// genetic.notification = function(pop, generation, stats, isFinished) {\r\n//   if (isFinished) {\r\n//     console.log(pop[0].entity, this.userData[\"solution\"]);\r\n//   }\r\n// };\r\n\r\n\r\n\r\n\r\ngenetic.run =  async function( on_finish, config , on_notify) {\r\n\r\n  //var pop = genetic.seed()\r\n  // console.log(pop)\r\n  \r\n  // console.log(genetic.model.predict([  7,   7, 109,  57,  85,  18,  33,  54,  87, 105,   0,  85,  89,\r\n  //   99,  57,   0, 118,  17,  92, 102, 114]))\r\n\r\n  //   on_finish(false, '','','','')\r\n  // return\r\n  \r\n  // genetic.simulation.predict(pop)\r\n  genetic.notify = on_notify\r\n  genetic.notification = async function(pop, generation, stats, isFinished) {\r\n    // console.log('something run')\\\r\n\r\n    await on_finish(isFinished, pop[0].entity, pop[0].fitness, pop, generation, stats)\r\n    // console.log(pop[0].entity, this.userData[\"solution\"]);\r\n  };\r\n  // var g = genetic.seed()\r\n  // on_finish(true, [],[], [], [])\r\n  \r\n  var userData = {\r\n    \"length\": 21,\r\n    \"max_val\": 120\r\n  };\r\n\r\n  return await genetic.evolve(config, userData)\r\n}\r\n\r\n\r\nexport default genetic","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"el-message-box__wrapper\",staticStyle:{\"z-index\":\"2001\"},attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-modal\":\"true\",\"aria-label\":\"Tip\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.$emit('run')}}},[_c('div',{staticClass:\"el-message-box\",staticStyle:{\"z-index\":\"3001\"}},[_c('div',{staticClass:\"el-message-box__header\"},[_c('div',{staticClass:\"el-message-box__title\"},[_c('span',[_vm._v(_vm._s(_vm.title))])]),_c('button',{staticClass:\"el-message-box__headerbtn\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":function($event){_vm.$emit('cancel')}}},[_c('i',{staticClass:\"el-message-box__close el-icon-close\"})])]),_c('div',{staticClass:\"el-message-box__content\"},[_vm._t(\"default\")],2),_c('div',{staticClass:\"el-message-box__btns\"},[_c('button',{staticClass:\"el-button el-button--default el-button--small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.$emit('cancel')}}},[_c('span',[_vm._v(\"\\n          Cancel\\n        \")])]),_c('button',{staticClass:\"el-button el-button--default el-button--small el-button--primary \",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.$emit('run')}}},[_c('span',[_vm._v(\"\\n          \"+_vm._s(_vm.ok)+\"\\n        \")])])])]),_c('div',{staticClass:\"v-modal\",staticStyle:{\"z-index\":\"-2000\"},attrs:{\"tabindex\":\"0\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div \r\n  \r\n  @keyup.enter=\"$emit('run')\"\r\n  tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-label=\"Tip\" class=\"el-message-box__wrapper\" \r\n  style=\"z-index: 2001;\">\r\n    <div class=\"el-message-box\" style=\"z-index: 3001;\">\r\n      <div class=\"el-message-box__header\">\r\n        <div class=\"el-message-box__title\">\r\n          <!---->\r\n          <span>{{title}}</span>\r\n        </div>\r\n        <button type=\"button\" aria-label=\"Close\" class=\"el-message-box__headerbtn\"   @click=\"$emit('cancel')\">\r\n          <i class=\"el-message-box__close el-icon-close\"></i>\r\n        </button>\r\n      </div>\r\n      <div class=\"el-message-box__content\">\r\n        <!---->\r\n       <slot/>\r\n      </div>\r\n      <div class=\"el-message-box__btns\">\r\n        <button type=\"button\" class=\"el-button el-button--default el-button--small\" @click=\"$emit('cancel')\">\r\n          <!---->\r\n          <!---->\r\n          <span>\r\n            Cancel\r\n          </span>\r\n        </button>\r\n        <button type=\"button\" class=\"el-button el-button--default el-button--small el-button--primary \" @click=\"$emit('run')\">\r\n          <!---->\r\n          <!---->\r\n          <span>\r\n            {{ok}}\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"v-modal\" tabindex=\"0\" style=\"z-index: -2000;\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  beforeMount() {\r\n    window.addEventListener('keyup', this.onEscapeKeyUp);\r\n  },\r\n  beforeDestroy () {\r\n    window.removeEventListener('keyup', this.onEscapeKeyUp)\r\n  },\r\n\r\n  props: {\r\n    'title': String,\r\n    'ok': {\r\n      type: String,\r\n      default: 'OK'\r\n    },\r\n  },\r\n\r\n methods: {\r\n    onEscapeKeyUp (event) {\r\n      if (event.which === 27) {\r\n        this.$emit('cancel');\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.el-message-box__wrapper {\r\n.el-form {\r\n  border: 0;\r\n  padding: 0;\r\n}\r\n\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageBox.vue?vue&type=template&id=634cbc44&\"\nimport script from \"./MessageBox.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MessageBox.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"MessageBox.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._g({staticClass:\"number-input\",class:( _obj = {\n  'number-input--inline': _vm.inline,\n  'number-input--center': _vm.center,\n  'number-input--controls': _vm.controls,\n}, _obj[(\"number-input--\" + _vm.size)] = _vm.size, _obj )},_vm.listeners),[(_vm.controls)?_c('button',{staticClass:\"number-input__button number-input__button--minus\",attrs:{\"type\":\"button\",\"disabled\":_vm.disabled || _vm.readonly || !_vm.decreasable},on:{\"click\":_vm.decrease}}):_vm._e(),_c('input',{ref:\"input\",staticClass:\"number-input__input\",attrs:{\"type\":\"number\",\"name\":_vm.name,\"min\":_vm.min,\"max\":_vm.max,\"step\":_vm.step,\"readonly\":_vm.readonly || !_vm.inputtable,\"disabled\":_vm.disabled || (!_vm.decreasable && !_vm.increasable),\"placeholder\":_vm.placeholder,\"autocomplete\":\"off\"},domProps:{\"value\":_vm.currentValue},on:{\"change\":_vm.change,\"paste\":_vm.paste}}),(_vm.controls)?_c('button',{staticClass:\"number-input__button number-input__button--plus\",attrs:{\"type\":\"button\",\"disabled\":_vm.disabled || _vm.readonly || !_vm.increasable},on:{\"click\":_vm.increase}}):_vm._e()])\nvar _obj;}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"number-input\" :class=\"{\r\n    'number-input--inline': inline,\r\n    'number-input--center': center,\r\n    'number-input--controls': controls,\r\n    [`number-input--${size}`]: size,\r\n  }\" v-on=\"listeners\">\r\n    <button v-if=\"controls\" class=\"number-input__button number-input__button--minus\" type=\"button\" @click=\"decrease\" :disabled=\"disabled || readonly || !decreasable\"></button>\r\n    <input class=\"number-input__input\" ref=\"input\" type=\"number\" :name=\"name\" :value=\"currentValue\" :min=\"min\" :max=\"max\" :step=\"step\" @change=\"change\" @paste=\"paste\" :readonly=\"readonly || !inputtable\" :disabled=\"disabled || (!decreasable && !increasable)\" :placeholder=\"placeholder\" autocomplete=\"off\">\r\n    <button v-if=\"controls\" class=\"number-input__button number-input__button--plus\" type=\"button\" @click=\"increase\" :disabled=\"disabled || readonly || !increasable\"></button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  const isNaN = Number.isNaN || window.isNaN;\r\n  const REGEXP_NUMBER = /^-?(?:\\d+|\\d+\\.\\d+|\\.\\d+)(?:[eE][-+]?\\d+)?$/;\r\n  const normalizeDecimalNumber = value => parseFloat(value.toFixed(10));\r\n  export default {\r\n    name: 'number-input',\r\n    data() {\r\n      return {\r\n        currentValue: NaN,\r\n      };\r\n    },\r\n    model: {\r\n      event: 'change',\r\n    },\r\n    props: {\r\n      center: Boolean,\r\n      controls: Boolean,\r\n      disabled: Boolean,\r\n      inputtable: {\r\n        type: Boolean,\r\n        default: true,\r\n      },\r\n      inline: Boolean,\r\n      max: {\r\n        type: Number,\r\n        default: Infinity,\r\n      },\r\n      min: {\r\n        type: Number,\r\n        default: -Infinity,\r\n      },\r\n      name: String,\r\n      placeholder: String,\r\n      readonly: Boolean,\r\n      rounded: Boolean,\r\n      size: String,\r\n      step: {\r\n        type: Number,\r\n        default: 1,\r\n      },\r\n      value: Number,\r\n    },\r\n    computed: {\r\n      /**\r\n       * Indicate if the value is increasable.\r\n       * @returns {boolean} Return `true` if it is decreasable, else `false`.\r\n       */\r\n      increasable() {\r\n        const num = this.currentValue;\r\n        return isNaN(num) || num < this.max;\r\n      },\r\n      /**\r\n       * Indicate if the value is decreasable.\r\n       * @returns {boolean} Return `true` if it is decreasable, else `false`.\r\n       */\r\n      decreasable() {\r\n        const num = this.currentValue;\r\n        return isNaN(num) || num > this.min;\r\n      },\r\n      /**\r\n       * Filter listeners\r\n       * @returns {Object} Return filtered listeners.\r\n       */\r\n      listeners() {\r\n        const listeners = { ...this.$listeners };\r\n        delete listeners.change;\r\n        return listeners;\r\n      },\r\n    },\r\n    methods: {\r\n      /**\r\n       * Change event handler.\r\n       * @param {string} value - The new value.\r\n       */\r\n      change(event) {\r\n        this.setValue(Math.min(this.max, Math.max(this.min, event.target.value)));\r\n      },\r\n      /**\r\n       * Paste event handler.\r\n       * @param {Event} event - Event object.\r\n       */\r\n      paste(event) {\r\n        if (!REGEXP_NUMBER.test(event.clipboardData.getData('text'))) {\r\n          event.preventDefault();\r\n        }\r\n      },\r\n      /**\r\n       * Decrease the value.\r\n       */\r\n      decrease() {\r\n        if (this.decreasable) {\r\n          let { currentValue } = this;\r\n          if (isNaN(currentValue)) {\r\n            currentValue = 0;\r\n          }\r\n          this.setValue(Math.min(this.max, Math.max(\r\n            this.min,\r\n            normalizeDecimalNumber(currentValue - this.step),\r\n          )));\r\n        }\r\n      },\r\n      /**\r\n       * Increase the value.\r\n       */\r\n      increase() {\r\n        if (this.increasable) {\r\n          let { currentValue } = this;\r\n          if (isNaN(currentValue)) {\r\n            currentValue = 0;\r\n          }\r\n          this.setValue(Math.min(this.max, Math.max(\r\n            this.min,\r\n            normalizeDecimalNumber(currentValue + this.step),\r\n          )));\r\n        }\r\n      },\r\n      /**\r\n       * Set new value and dispatch change event.\r\n       * @param {number} value - The new value to set.\r\n       */\r\n      setValue(value) {\r\n        const oldValue = this.currentValue;\r\n        let newValue = this.rounded ? Math.round(value) : value;\r\n        if (this.min <= this.max) {\r\n          newValue = Math.min(this.max, Math.max(this.min, newValue));\r\n        }\r\n        this.currentValue = newValue;\r\n        this.$emit('change', newValue, oldValue);\r\n        this.$nextTick(() => {\r\n          // Change the input value when it is mounted\r\n          if (this.$el) {\r\n            this.$refs.input.value = newValue;\r\n          }\r\n        });\r\n      },\r\n    },\r\n    watch: {\r\n      value(newValue) {\r\n        this.setValue(newValue);\r\n      },\r\n    },\r\n    created() {\r\n      this.setValue(this.value);\r\n    },\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .number-input {\r\n    display: block;\r\n    max-width: 100%;\r\n    overflow: hidden;\r\n    position: relative;\r\n    &__button {\r\n      background-color: transparent;\r\n      border: 0;\r\n      border-radius: .25rem;\r\n      bottom: .0625rem;\r\n      position: absolute;\r\n      top: .0625rem;\r\n      width: 2.5rem;\r\n      &:focus {\r\n        outline: none;\r\n      }\r\n      &:hover {\r\n        &::before,\r\n        &::after {\r\n          background-color: #0074d9;\r\n        }\r\n      }\r\n      &:disabled {\r\n        &::before,\r\n        &::after {\r\n          background-color: #ddd;\r\n        }\r\n      }\r\n      &::before,\r\n      &::after {\r\n        background-color: #111;\r\n        content: \"\";\r\n        left: 50%;\r\n        position: absolute;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n        transition: background-color .15s;\r\n      }\r\n      &::before {\r\n        height: .0625rem;\r\n        width: 50%;\r\n      }\r\n      &::after {\r\n        height: 50%;\r\n        width: .0625rem;\r\n      }\r\n     &--minus {\r\n        border-right: .0625rem solid #ddd;\r\n        border-bottom-right-radius: 0;\r\n        border-top-right-radius: 0;\r\n        left: .0625rem;\r\n        &::after {\r\n          visibility: hidden;\r\n        }\r\n      }\r\n     &--plus {\r\n        border-left: .0625rem solid #ddd;\r\n        border-bottom-left-radius: 0;\r\n        border-top-left-radius: 0;\r\n        right: .0625rem;\r\n      }\r\n    }\r\n    &__input {\r\n      border-radius: .25rem;\r\n      border: 1px solid #ddd;\r\n      display: block;\r\n      font-size: 1rem;\r\n      line-height: 1.5;\r\n      max-width: 100%;\r\n      min-height: 1.5rem;\r\n      min-width: 3rem;\r\n      padding: .4375rem .875rem;\r\n      transition: border-color .15s;\r\n      width: 100%;\r\n      &::-webkit-outer-spin-button,\r\n      &::-webkit-inner-spin-button {\r\n        appearance: none;\r\n      }\r\n      &:focus {\r\n        border-color: #0074d9;\r\n        outline: none;\r\n      }\r\n      &[readonly] {\r\n        background-color: #f8f8f8;\r\n      }\r\n      &:disabled {\r\n        background-color: #f8f8f8;\r\n        opacity: .65;\r\n      }\r\n    }\r\n   &--inline {\r\n      display: inline-block;\r\n      & > input {\r\n        display: inline-block;\r\n        width: 12.5rem;\r\n      }\r\n    }\r\n   &--center {\r\n      & > input {\r\n        text-align: center;\r\n      }\r\n    }\r\n   &--controls {\r\n      & > input {\r\n        padding-left: 3.375rem;\r\n        padding-right: 3.375rem;\r\n      }\r\n    }\r\n   &--small {\r\n      & > input {\r\n        border-radius: .1875rem;\r\n        font-size: .875rem;\r\n        padding: .25rem .5rem;\r\n      }\r\n      &.number-input--inline > input {\r\n        width: 10rem;\r\n      }\r\n      &.number-input--controls > button {\r\n        width: 2rem;\r\n      }\r\n      &.number-input--controls > input {\r\n        padding-left: 2.5rem;\r\n        padding-right: 2.5rem;\r\n      }\r\n    }\r\n   &--large {\r\n      & > input {\r\n        border-radius: .3125rem;\r\n        font-size: 1.25rem;\r\n        padding: .5rem 1rem;\r\n      }\r\n      &.number-input--inline > input {\r\n        width: 15rem;\r\n      }\r\n      &.number-input--controls > button {\r\n        width: 3rem;\r\n      }\r\n      &.number-input--controls > input {\r\n        padding-left: 4rem;\r\n        padding-right: 4rem;\r\n      }\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./number-input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./number-input.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./number-input.vue?vue&type=template&id=6c7308e8&scoped=true&\"\nimport script from \"./number-input.vue?vue&type=script&lang=js&\"\nexport * from \"./number-input.vue?vue&type=script&lang=js&\"\nimport style0 from \"./number-input.vue?vue&type=style&index=0&id=6c7308e8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c7308e8\",\n  null\n  \n)\n\ncomponent.options.__file = \"number-input.vue\"\nexport default component.exports","<template>\r\n  <div id=\"map\" class=\"map-view\">\r\n    <span class=\"loading-screen\" v-if=\"isLoading\">\r\n      <h1>Running... {{isLoading_text}}</h1>\r\n      <div class=\"loader\"></div>\r\n    </span>\r\n\r\n    <el-dialog id=\"traffic_dialog_id\" class=\"traffic_dialog\" \r\n    title=\"Update Offset for traffic sign\" :visible.sync=\"traffic_visible\" width=\"40%\" \r\n   @close=\"traffic_dialog_off\"\r\n    center>\r\n\r\n      <span> The signal start from time 0 and is calculated by the offset of the value</span>\r\n\r\n      <el-input class=\"mt-2\" placeholder=\"Please input\" v-model=\"traffic_time\"></el-input>\r\n\r\n      <div class=\"line\">\r\n        <div class=\"first-empty\">\r\n\r\n        </div>\r\n\r\n        <span class=\"text\" :style=\"{\r\n      'width': traffic_time1 + '%'\r\n      }\">{{traffic_time1}}s</span>\r\n\r\n        <span class=\"text\" :style=\"{\r\n      'width': traffic_time2/60*100 + '%'\r\n      }\">{{traffic_time2}}s</span>\r\n\r\n        <span class=\"text\" :style=\"{\r\n      'width': traffic_time3/60*100 + '%'\r\n      }\">{{traffic_time3}}s</span>\r\n\r\n      </div>\r\n\r\n      <div v-for=\"s in traffic_signs\" :key=\"s.id\">\r\n        <span class=\"quote\">Position: {{s.position}} </span>\r\n        <div class=\"line\">\r\n          <img class=\"first\" src=\"signal.png\" alt=\"\">\r\n\r\n          <div class=\"color123 first_el\" :style=\"{\r\n      'width': \r\n      (s.isGreen ? traffic_time1 : traffic_time1+2)/60*100 + '%',\r\n      'background-color': s.isGreen ? '#67c23a' : '#f56c6c'\r\n      }\"> {{(s.isGreen ? traffic_time1 : traffic_time1+2) }}</div>\r\n\r\n          <div class=\"color123\" :style=\"{\r\n      'width': (s.isGreen ? traffic_time2+2 : traffic_time2-2)/60*100 + '%',\r\n        'background-color': s.isGreen ?  '#f56c6c' : '#67c23a',\r\n      }\"> {{(s.isGreen ? traffic_time2+2 : traffic_time2-2)}}</div>\r\n\r\n          <div class=\"color123 last\" :style=\"{\r\n      'width': traffic_time3/60*100 + '%',\r\n      'background-color': s.isGreen ? '#67c23a' : '#f56c6c'\r\n      }\"> {{(s.isGreen ? traffic_time3-2 : traffic_time3)}} </div>\r\n\r\n          <div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n        <div></div>\r\n      </div>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"traffic_dialog_off\">Cancel</el-button>\r\n        <el-button type=\"primary\" @click=\"traffic_dialog_confirm\">Update Offset</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <MessageBox title=\"Genetic Parameters\" ok=\"Run Genetic Algorithm\" v-if=\"isShowGenetic\" @cancel=\"isShowGenetic=false\" @run=\"genetic_calculate()\">\r\n\r\n      <el-form ref=\"form\" :model=\"genetic_config\" label-width=\"120px\">\r\n        <el-form-item label=\"Iterations\">\r\n          <el-input v-model=\"genetic_config.iterations\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"Size\">\r\n          <el-input v-model=\"genetic_config.size\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"Cross Over\">\r\n          <el-input v-model=\"genetic_config.crossover\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"Mutation\">\r\n          <el-input v-model=\"genetic_config.mutation\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n    </MessageBox>\r\n\r\n    <div id=\"mapid\">\r\n    </div>\r\n\r\n    <div class=\"panel-info\">\r\n      <el-button type=\"success\" plain @click=\"showCalculation\">\r\n        <i class=\"fas fa-traffic-light\"></i> Traffic Lights</el-button>\r\n      <el-button type=\"primary\" plain @click=\"showSimulation\">\r\n        <i class=\"fas fa-car\"></i> Simulation</el-button>\r\n    </div>\r\n\r\n    <div class=\"panel-show\" v-show=\"panelType=='cal'\">\r\n      <span>\r\n        Result:\r\n        <span class=\"text-result\">{{Math.round(time)}} ms</span>\r\n      </span>\r\n      <hr>\r\n      <el-button class=\"calculation\" type=\"warning\" plain @click=\"isShowGenetic = true\">\r\n        <i class=\"fas fa-calculator\"></i> Find Best Solution</el-button>\r\n\r\n      <span/>\r\n\r\n      <el-button class=\"calculation\" type=\"success\" plain @click=\"traffic_load(best_solution)\">\r\n        <i class=\"fas fa-upload\"></i> Load Best Solution ({{Math.round(best_solution_result)}} ms)</el-button>\r\n\r\n      <div class=\"light\" v-for=\"group in sign_groups\" :key=\"group.id\" \r\n      @click.self=\"traffic_dialog_update(group.sign_marker)\"\r\n      @mouseover=\"calOnOver(group)\" @mouseout=\"calOffOver(group)\">\r\n        <i class=\"fas fa-traffic-light\"  @click.self=\"traffic_dialog_update(group.sign_marker)\"></i>\r\n\r\n        <span class=\"text\"  @click.self=\"traffic_dialog_update(group.sign_marker)\">{{group.id}}</span>\r\n\r\n        <el-input :value=\"group.time\"  @input=\"traffic_set_group(group,$event,true)\" size=\"mini\" class=\"time\" type=\"number \" />\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"panel-show\" v-show=\"panelType=='sim'\">\r\n       <div></div>\r\n       <el-button class=\"calculation\" type=\"primary\" plain @click=\"simulation_load\">Load Simulation</el-button>\r\n       <el-slider v-model=\"simulation_time\" :min=\"0\" :max=\"600\" ></el-slider>\r\n        <el-button type=\"success\" round icon=\"el-icon-caret-right\" @click=\"simulation_play\">Start Simulation</el-button>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n<style  lang=\"scss\">\r\n@import '../scss/base.scss';\r\n\r\n.text-result {\r\n  color: $green;\r\n}\r\n\r\n#map {\r\n  overflow: hidden;\r\n}\r\n\r\n.map-view {\r\n  overflow: hidden;\r\n  overflow-x: hidden;\r\n}\r\n\r\n.form {\r\n  //  position: absolute;\r\n  bottom: 10px;\r\n  left: 10px;\r\n  top: 10px;\r\n  // width: 100%;\r\n  margin-bottom: 0.5rem;\r\n  margin-top: 0.5rem;\r\n  z-index: 5;\r\n}\r\n\r\n#mapid {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  border: 1px solid $grey-light;\r\n  margin: 0;\r\n}\r\n\r\n.car-label {\r\n  background: #900;\r\n  color: white;\r\n  border-radius: 50%;\r\n  width: 35px;\r\n  height: 35px;\r\n  line-height: 35px !important;\r\n  vertical-align: middle;\r\n  text-align: center;\r\n  padding: 0;\r\n}\r\n\r\n.my-label {\r\n  background: $green;\r\n  color: white;\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  height: 30px;\r\n  line-height: 30px !important;\r\n  vertical-align: middle;\r\n  text-align: center;\r\n  padding: 0;\r\n}\r\n\r\n.my-label-show {\r\n  background: #409EFF;\r\n  color: white;\r\n  border-radius: 50%;\r\n  width: 35px;\r\n  height: 35px;\r\n  line-height: 35px !important;\r\n  vertical-align: middle;\r\n  text-align: center;\r\n  padding: 0;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\n// import L from 'leaflet'\r\n\r\n// require('../js/leaflet-panel-layers.src.js')\r\nimport L from '../js/movie-cars.js'\r\nimport generator from '../js/movie-generate.js'\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\nimport genetic from '../js/genetic.js'\r\nimport MessageBox from './MessageBox'\r\nimport NumberInput from './number-input'\r\nimport { sign_groups } from '../js/signs.js'\r\n\r\nvar ourCustomControl = L.Control.extend({\r\n  options: {\r\n    position: 'topleft' \r\n    //control position - allowed: 'topleft', 'topright', 'bottomleft', 'bottomright'\r\n  },\r\n});\r\n\r\n// console.log(generator(1,sign_groups))\r\n\r\n\r\nexport default {\r\n  components: {\r\n    'MessageBox': MessageBox,\r\n    'number-input': NumberInput\r\n  },\r\n  data() {\r\n    return {\r\n      genetic_config: {\r\n        \"iterations\": 50\r\n        , \"size\": 20\r\n        , \"crossover\": 0.4\r\n        , \"mutation\": 0.3\r\n      },\r\n      isLoading: false,\r\n      isLoading_text: '...',\r\n      isShowGenetic: false,\r\n      traffic_dialog: {\r\n        visible: true\r\n      },\r\n      traffic_visible: false,\r\n      traffic_time: 30,\r\n      traffic_group: sign_groups['28'],\r\n      traffic_signs: sign_groups['28'].signs[0],\r\n      traffic_times: sign_groups['28'].times,\r\n\r\n\r\n      panelType: '', //'sim', 'cal'\r\n      icon: '',\r\n      car_icon: '',\r\n      map: '',\r\n      zoom:15,\r\n      mapMarkers: [],\r\n      center: [52.2187, 20.9864],\r\n      car: [],\r\n      car_position: [52.2211, 20.9849],\r\n      time: 32.4330,\r\n      best_solution: [43,16,64,69, 6,21,83,119,81,91,37,47,42,30,54,48,29,24,35,36,6],\r\n      best_solution_result: 0,\r\n      sign_times: [ 0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0, 0],\r\n      sign_groups: sign_groups,\r\n\r\n      simulation_time: 0,\r\n    }\r\n  },\r\n  computed: {\r\n    traffic_time1() {\r\n      return this.traffic_time%60\r\n    },\r\n    traffic_time2() {\r\n      return 60\r\n    },\r\n    traffic_time3() {\r\n      return 60-this.traffic_time%60\r\n    },\r\n  },\r\n//  components: { LMap, LTileLayer, LMarker },\r\n// https://leaflet-extras.github.io/leaflet-providers/preview/ a lot of providers\r\n  mounted() {\r\n    \r\n    \r\n\r\n    this.icon = L.icon({\r\n        iconUrl: 'https://image.flaticon.com/icons/png/128/803/803227.png',\r\n        iconSize: [30, 25],\r\n        iconAnchor: [0, 0],\r\n        popupAnchor: [0,0],\r\n    });\r\n\r\n    this.car_icon = L.icon({\r\n        iconUrl: 'http://icons.iconarchive.com/icons/icons-land/transporter/256/Car-Top-Red-icon.png',\r\n        iconSize: [40, 40],\r\n        iconAnchor: [20, 15],\r\n        popupAnchor: [14,230],\r\n    });\r\n\r\n    var map = L.map('mapid').setView(this.center, this.zoom);\r\n    this.map = map\r\n    L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {\r\n        attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\r\n    }).addTo(this.map);\r\n\r\n    this.refreshMarks()\r\n\r\n    var v = this\r\n    genetic.model.on_load = function() {\r\n      v.best_solution_result =  genetic.model.predict(v.best_solution)\r\n      v.traffic_set_time()\r\n    }\r\n\r\n    \r\n  },\r\n\r\n  methods: {\r\n    refreshMarks() {\r\n        for(var i = 0; i < this.mapMarkers.length; i++){\r\n            this.map.removeLayer(this.mapMarkers[i]);\r\n        }\r\n        for (const group_key in this.sign_groups ) {\r\n          let group = this.sign_groups[group_key]\r\n          for(var s of group.signs)  {\r\n            let sign = group.signs[s]\r\n            this.addSign(s, group)\r\n          }\r\n        }\r\n        this.uploadCars()\r\n    },\r\n\r\n    addSign(sign,sign_group) {\r\n      sign.group = sign_group\r\n\r\n      if(sign.show) {\r\n        sign_group.sign_marker = sign\r\n      }\r\n  \r\n      var marker = new L.marker(sign.position, {  icon: this.icon });\r\n      if(sign.show) {\r\n        marker.bindTooltip(String(sign_group.group), \r\n      {\r\n        permanent: true, \r\n        className: \"my-label\", \r\n        opacity: 0.8,\r\n        offset: [15, 5] });\r\n      }\r\n\r\n      \r\n      marker.addTo(this.map);\r\n      this.mapMarkers.push(marker);\r\n      marker.sign = sign\r\n      sign.marker = marker\r\n      let v = this\r\n      marker.on('click', function(e) {\r\n        v.traffic_dialog_update(e.target.sign)\r\n      })\r\n    },\r\n\r\n\r\n\r\n    calOnOver(group) {\r\n      group.sign_marker.marker.unbindTooltip()\r\n      group.sign_marker.marker.bindTooltip( String(group.time), \r\n      {\r\n        permanent: true, \r\n        className: \"my-label-show\", \r\n        opacity: 0.9,\r\n        offset: [15, 5] });\r\n\r\n      // console.log(s.marker.getTooltip())\r\n      // console.log(s)\r\n    },\r\n\r\n    calOffOver(group) {\r\n      group.sign_marker.marker.unbindTooltip()\r\n      group.sign_marker.marker.bindTooltip(String(group.time), \r\n      {\r\n        permanent: true, \r\n        className: \"my-label\", \r\n        opacity: 0.8,\r\n        offset: [15, 5] \r\n       }\r\n      );\r\n    },\r\n\r\n    traffic_load(pop) {\r\n      for(const key in this.sign_groups) {\r\n          let group = this.sign_groups[key]\r\n          this.traffic_set_group(group, pop[group.id])\r\n      }\r\n      this.traffic_set_time()\r\n    },\r\n\r\n    traffic_set_group(group,val, reload = false) {\r\n        group.time = parseInt(val)\r\n        this.sign_times[group.id] = group.time\r\n        group.sign_marker.marker.setTooltipContent(String(val))\r\n        // console.log(reload)\r\n        if(reload) this.traffic_set_time()\r\n    },\r\n\r\n    traffic_set_time() {\r\n\r\n      this.time = genetic.model.predict(this.sign_times)\r\n      this.$message({\r\n        type: 'warning',\r\n        message: 'New Traffic result: ' + Math.round(this.time)\r\n      });  \r\n\r\n    },\r\n\r\n    traffic_dialog_confirm() {\r\n\r\n      // console.log('confirm')\r\n      // console.log(this.traffic_dialog)\r\n      this.traffic_set_group(this.traffic_group, this.traffic_time, true)\r\n\r\n      this.traffic_dialog_off()\r\n    },\r\n\r\n    traffic_dialog_off() {\r\n      this.calOffOver(this.traffic_group)\r\n      this.traffic_visible = false\r\n    },\r\n\r\n    traffic_dialog_update(sign) {\r\n      //console.log(e.target.point)\r\n      // var sign = e.target.sign\r\n      let pos = this.map.getBounds()\r\n      pos =  (Math.abs(pos.getWest() - pos.getEast()) )\r\n      \r\n      // center to the left of pane\r\n      this.map.panTo(\r\n        [sign.position[0]\r\n        ,sign.position[1]+pos*0.4\r\n        ])\r\n\r\n      this.calOnOver(sign.group)\r\n      \r\n      this.traffic_signs = sign.group.signs\r\n      this.traffic_group = sign.group\r\n      this.traffic_visible = true\r\n      this.traffic_time = sign.group.time\r\n    },\r\n\r\n\r\n\r\n    uploadCars() {\r\n      // this.map.removeLayer(this.car);\r\n\r\n      // this.car = new L.marker( this.car_position, \r\n      // {  icon: this.car_icon, \r\n      // rotationAngle: -58 });\r\n      // this.car.bindTooltip('23', {permanent: true, className: \"car-label\", offset: [10, -20] });\r\n      // this.car.addTo(this.map);\r\n    },\r\n\r\n     showCalculation() {\r\n       this.panelType =  this.panelType == 'cal' ? '' : 'cal'\r\n     },\r\n\r\n    async genetic_calculate() {\r\n      this.isShowGenetic = false\r\n\r\n      const delay = ms => {\r\n        return new Promise(resolve => {\r\n          setTimeout(resolve, ms)\r\n        })\r\n      }\r\n\r\n      this.isLoading = true\r\n      this.isLoading_text = '...'\r\n      let v = this\r\n      let result = []\r\n      await delay(500)\r\n      try {\r\n        genetic.run(async function(isFinished, result,fitness, pop, generation, stats) { \r\n          // console.log(isFinished, result, pop, generation, stats)\r\n          // console.log('hh')\r\n          if(isFinished) {\r\n                await v.traffic_load(result)\r\n                v.$message({\r\n                    type: 'success',\r\n                    message: 'Find result is: ' + result + '\\n\\n\\n\\n\\t with score: ' + fitness\r\n                  });\r\n          }\r\n          v.isLoading = false\r\n        }, this.genetic_config, async function(i,max) {\r\n          // console.log('function',i,max,this.isLoading_text)\r\n          // var vm = this\r\n          // vm.isLoading_text =  i + '/' + max\r\n          // vm.$forceUpdate()\r\n          // console.log(this.isLoading_text)\r\n          // Vue.nextTick(function () {\r\n          //   // Vue.set(vm.isLoading_text, 'b', 2)\r\n          //      v.isLoading_text =  i + '/' + max\r\n          //     // console.log(vm.isLoading_text)\r\n          // })\r\n          v.isLoading_text =  i + '/' + max\r\n          await  v.$forceUpdate()\r\n          //  v.$refs.textContent.innerText = i + '/' + max\r\n          // v.$forceUpdate()\r\n          // v.$refs['textContent'].innerText = i + '/' + max\r\n          \r\n          // this.isLoading_text = i + '/' + max\r\n        })\r\n\r\n        //  console.log('after run')\r\n        // result = await this.calculate(method)\r\n        // this.draw_chart_table(chart, result)\r\n        // this[chart + '_visible'] = true\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n      // this.isLoading = false\r\n      // return result\r\n    },\r\n\r\n\r\n    //   let v = this\r\n    //   \r\n    // },\r\n\r\n     showSimulation() {\r\n       this.panelType =  this.panelType == 'sim' ? '' : 'sim'\r\n     },\r\n\r\n     simulation_load() {\r\n       this.simulation_time = 0\r\n     },\r\n\r\n     simulation_play()  {\r\n       this.map.removeLayer(this.car);\r\n\r\n      var myMovingMarker = L.Marker.movingMarker(\r\n        [[52.221, 20.9853],[52.2163, 20.9811]],\r\n        [5000], {  icon: this.car_icon,   rotationAngle: -58 }).addTo(this.map);\r\n\r\n        var v = this\r\n\r\n      myMovingMarker.addEventListener('end', function(e){\r\n        v.map.removeLayer(myMovingMarker);\r\n        v.uploadCars()\r\n      });\r\n\r\n      myMovingMarker.start()\r\n\r\n     },\r\n\r\n    playCars() {\r\n       this.map.removeLayer(this.car);\r\n\r\n      var myMovingMarker = L.Marker.movingMarker(\r\n        [[52.221, 20.9853],[52.2163, 20.9811]],\r\n        [5000], {  icon: this.car_icon,   rotationAngle: -58 }).addTo(this.map);\r\n\r\n        var v = this\r\n\r\n      myMovingMarker.addEventListener('end', function(e){\r\n        v.map.removeLayer(myMovingMarker);\r\n        v.uploadCars()\r\n      });\r\n\r\n      myMovingMarker.start()\r\n      // console.log(myMovingMarker)\r\n    },\r\n\r\n\r\n}\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mymap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mymap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mymap.vue?vue&type=template&id=286e07cc&\"\nimport script from \"./mymap.vue?vue&type=script&lang=js&\"\nexport * from \"./mymap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mymap.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"mymap.vue\"\nexport default component.exports","<template>\n  <div id=\"app\">\n    <mymap id=\"mapObject\"  />\n  </div>\n</template>\n<style lang=\"scss\">\n.el-form {\n  max-width: 400px;\n  padding: 10px;\n  border: 1px solid $grey-light;\n  margin: 1rem;\n  border-radius: 5px;\n}\n</style>\n\n\n\n<script>\nimport Vue from 'vue'\n\n// import '@fortawesome/fontawesome-free/css/all.min.css'\nimport '@fortawesome/fontawesome-free/js/all.min.js'\n// import { library } from '@fortawesome/fontawesome-svg-core'\n// import { faCoffee } from '@fortawesome/free-solid-svg-icons'\n// import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\n\n\n\n\nimport mymap from './components/mymap'\n\n\n\n// library.add(faCoffee)\n// Vue.component('font-awesome-icon', FontAwesomeIcon)\n// Vue.config.productionTip = false\n\n\nexport default {\n  data: () => (\n    {map: null\n    }),\n  name: 'app',\n  components: {\n    mymap\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: 0;\n  overflow: hidden;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4d2f6cf4&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import Vue from 'vue'\nimport Element from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport locale from 'element-ui/lib/locale/lang/en'\n\nVue.use(Element, { locale })\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport './plugins/element.js'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./number-input.vue?vue&type=style&index=0&id=6c7308e8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./number-input.vue?vue&type=style&index=0&id=6c7308e8&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageBox.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageBox.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mymap.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mymap.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}